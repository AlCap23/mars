<!-- DO NOT EDIT THIS FILE! IT IS AUTOMATICALLY GENERATED BY markdown2marshtml //-->
             <!DOCTYPE html>
             <html>
               <head>
                 <title>MARS Simulator</title>
                 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
                 <meta name="description" content="MARS is a flexible physics simulator.">
                 <meta name="author" content="MARS Project">
                 <meta name="keywords" content="MARS, simulation, physics, robotics">
                 <link rel="stylesheet" type="text/css" href="../../../src/css/mars_default.css" media="all" />
               </head>
             <body>
               <div class="nav-box">
                 <h2>Navigation</h2>
                 <nav>
                   <ol>
                     <li><a href="../../../mars_manual/index.html">Home</a></li>
                     <li>Common</li>
<ul>
  <li><a href="../../../mars_manual/common/data_broker/data_broker.html">Data Broker</a></li>
    <li><a href="../../../mars_manual/common/lib_manager/lib_manager.html">Lib Manager</a></li>
</ul>
    <li><a href="../../../mars_manual/libraries.html">Libraries</a></li>
<li><a href="../../../mars_manual/inner_workings.html">Inner Workings</a></li>
<li><a href="../../../mars_manual/mars_scenes.html">Mars Scenes</a></li>
<li><a href="../../../mars_manual/installation.html">Installation</a></li>
<li><a href="../../../mars_manual/tutorials/tutorials.html">Tutorials</a></li>
<ul>
  <li><a href="../../../mars_manual/tutorials/basic/plugin_tutorial.html">Plugin Tutorial</a></li>
  <li><a href="../../../mars_manual/tutorials/basic/basic_tutorial.html">Basic Tutorial</a></li>
  <li><a href="../../../mars_manual/tutorials/basic/build_tutorial.html">Build Tutorial</a></li>
<ul>
  <li><a href=#setting-up-the-mars-environment>Setting Up The Mars Environment</a></li>
<li><a href=#building-in-mars>Building In Mars</a></li>
</ul>
  <li><a href="../../../mars_manual/tutorials/basic/advanced_modeling.html">Advanced Modeling</a></li>
</ul>

                   </ol>
                 </nav>
               </div>
               <div id="content">
               <header>
                 <a href="../../../mars_manual/index.html"><img src="../../../src/images/logo_v2_wob.png" alt="MARS" /></a>
               </header>
<h1 id="tutorial_build">Mars environment and building</h1>
<h2 id="setting-up-the-mars-environment">Setting up the MARS environment</h2>
<p>When working with MARS, you usually make use of its custom environment configuration. Thus when you open a terminal and access the mars development folder (i.e. the folder you installed MARS to, here referenced as $MARS_DEV_ROOT), you want to run the shell script &quot;env.sh&quot;, which provides path variables for the binaries and libraries of MARS. Thus you execute</p>
<pre><code>. env.sh</code></pre>
<p>so your shell has the information needed to work with MARS. You also need to set this environment before you build your own code in the MARS environment.</p>
<h2 id="building-in-mars">Building in MARS</h2>
<p>The following part is described for use under Linux only, but will work similar in a Windows or OSX environment.</p>
<p>MARS uses a customly configured build environment, which you'll have to utilize to make your own code work properly with MARS. As decribed in the <a href="tutorials/basic/plugin_tutorial.html">Basic plugin tutorial</a>, you can, after creating your plugin (or whatever other part of MARS you want to build), run the shell script &quot;build.sh&quot;:</p>
<pre><code>./build.sh</code></pre>
<p>to create a &quot;build&quot;-subfolder and compile your code. However, while this is what you want to do most of the time, it is still worthwhile to take a closer look and understand what's actually happening there.</p>
<p>Apart from the output of the build process, the build shell script contains the following lines:</p>
<pre><code>rm -rf build
mkdir build
cd build
cmake_debug
make -j4
cd ..</code></pre>
<p>which, in succession, removes any previously existing build folder, (re)creates a new build folder, and compiles the code. &quot;cmake_debug&quot; is part of the MARS environment and refers to the &quot;cmake_debug.sh&quot; shell script in the install/bin/ environment, which in turn executes the command:</p>
<pre><code>cmake .. -DCMAKE_INSTALL_PREFIX=/$MARS_DEV_ROOT/install -DCMAKE_BUILD_TYPE=DEBUG $@</code></pre>
<p>thus running <em>cmake</em> with a specific install directory in debug-mode. &quot;mMake -j4&quot;&quot; then allows <em>make</em> to compile on up to 4 separate processes, speeding up the compiling process. You can change 4 to any number of CPU cores you would like your system to use for compilation.</p>
<p>So this is what's happening behind the curtains when you run the build.sh script. You can of course always manually execute the same commands.</p>

      <footer>
        <a href="http://validator.w3.org/check?uri=referer" target="_blank">
          <img src="http://www.w3.org/Icons/valid-html401"
               alt="Valid HTML 4.01 Transitional"/>
        </a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
          <img src="http://jigsaw.w3.org/css-validator/images/vcss"
               alt="Valid CSS!"/>
        </a>
      </footer>
    </div>
  </body>
</html>
