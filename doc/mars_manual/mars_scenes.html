<!-- DO NOT EDIT THIS FILE! IT IS AUTOMATICALLY GENERATED BY rst2marshtml //-->
             <!DOCTYPE html>
             <html>
               <head>
                 <title>MARS Simulator</title>
                 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
                 <meta name="description" content="MARS is a flexible physics simulator.">
                 <meta name="author" content="MARS Project">
                 <meta name="keywords" content="MARS, simulation, physics, robotics">
                 <link rel="stylesheet" type="text/css" href="../src/css/mars_default.css" media="all" />
               </head>
             <body>
               <div class="nav-box">
                 <h2>Navigation</h2>
                 <nav>
                   <ol>
                     <li><a href="../mars_manual/index.html">Home</a></li>
                     <li>Common</li>
<ul>
  <li><a href="../mars_manual/common/data_broker/data_broker.html">Data Broker</a></li>
    <li><a href="../mars_manual/common/lib_manager/lib_manager.html">Lib Manager</a></li>
</ul>
    <li><a href="../mars_manual/libraries.html">Libraries</a></li>
<li><a href="../mars_manual/mars_scenes.html">Mars Scenes</a></li>
<ul>
  <li><a href=#overview>Overview</a></li>
<ul>
  <li><a href=#nodes>Nodes</a></li>
<li><a href=#joints>Joints</a></li>
<li><a href=#motors>Motors</a></li>
<li><a href=#sensors>Sensors</a></li>
<li><a href=#materials>Materials</a></li>
<li><a href=#graphic-options>Graphic Options</a></li>
</ul>
</ul>
<li><a href="../mars_manual/installation.html">Installation</a></li>
<li><a href="../mars_manual/tutorials/tutorials.html">Tutorials</a></li>
<ul>
  <li><a href="../mars_manual/tutorials/basic/plugin_tutorial.html">Plugin Tutorial</a></li>
  <li><a href="../mars_manual/tutorials/basic/basic_tutorial.html">Basic Tutorial</a></li>
  <li><a href="../mars_manual/tutorials/basic/build_tutorial.html">Build Tutorial</a></li>
  <li><a href="../mars_manual/tutorials/basic/advanced_modeling.html">Advanced Modeling</a></li>
</ul>

                   </ol>
                 </nav>
               </div>
               <div id="content">
               <header>
                 <a href="../mars_manual/index.html"><img src="../src/images/logo_v2_wob.png" alt="MARS" /></a>
               </header>
<h1 id="mars_scenes">Mars Scenes</h1>
<h2 id="overview">Overview</h2>
<p>MARS possesses its own format to represent 3D environments with physical entities, the MARS scene. These files with the extension <em>.scene</em> are xml files and have the following principal structure:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;!DOCTYPE dfkiMarsSceneFile PUBLIC &#39;-//DFKI/RIC/MARS SceneFile 1.0//EN&#39; &#39;&#39;&gt;
&lt;SceneFile&gt;
  &lt;version&gt;0.2&lt;/version&gt;
  &lt;nodelist&gt;
  &lt;jointlist&gt;
  &lt;motorlist&gt;
  &lt;sensorlist&gt;
  &lt;materiallist&gt;
  &lt;graphicOptions&gt;
&lt;/SceneFile&gt;</code></pre>
<p>We will have a closer look at the items in these lists in the following.</p>
<h3 id="nodes">Nodes</h3>
<p><em>Nodes</em> are all visible objects in MARS, whether they are physical objects or not. Now</p>
<p>--&gt; show notedata.h</p>
<pre><code>&lt;node name=&quot;Lower.Leg.003&quot;&gt;
  &lt;origname&gt;name(in_blender)&lt;/origname&gt;
  &lt;filename&gt;name.obj&lt;/filename&gt;
  &lt;index&gt;i&lt;/index&gt;
  &lt;groupid&gt;g_id&lt;/groupid&gt;
  &lt;physicmode&gt;box&lt;/physicmode&gt;
  &lt;relativeid&gt;rel_id&lt;/relativeid&gt;
  &lt;position&gt;
    &lt;x&gt;pos_x&lt;/x&gt;
    &lt;y&gt;pos_y&lt;/y&gt;
    &lt;z&gt;-0.49999985098838806&lt;/z&gt;
  &lt;/position&gt;
  &lt;rotation&gt;
    &lt;x&gt;rot_x&lt;/x&gt;
    &lt;y&gt;rot_y&lt;/y&gt;
    &lt;z&gt;rot_z&lt;/z&gt;
    &lt;w&gt;1.0&lt;/w&gt;
  &lt;/rotation&gt;
  &lt;extend&gt;
    &lt;x&gt;ext_x&lt;/x&gt;
    &lt;y&gt;ext_y&lt;/y&gt;
    &lt;z&gt;ext_z&lt;/z&gt;
  &lt;/extend&gt;
  &lt;pivot&gt;
    &lt;x&gt;piv_x&lt;/x&gt;
    &lt;y&gt;piv_y&lt;/y&gt;
    &lt;z&gt;piv_z&lt;/z&gt;
  &lt;/pivot&gt;
  &lt;visualsize&gt;
    &lt;x&gt;vs_x&lt;/x&gt;
    &lt;y&gt;vs_y&lt;/y&gt;
    &lt;z&gt;vs_z&lt;/z&gt;
  &lt;/visualsize&gt;
  &lt;movable&gt;true/false&lt;/movable&gt;
  &lt;mass&gt;m&lt;/mass&gt;
  &lt;density&gt;rho&lt;/density&gt;
  &lt;material_id&gt;mat_id&lt;/material_id&gt;
  &lt;coll_bitmask&gt;65535&lt;/coll_bitmask&gt;
&lt;/node&gt;</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">description</th>
<th align="left">possible values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">origname</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">filename</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">index</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">groupid</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">physicmode</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">relativeid</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">position</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">rotation</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">extend</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">pivot</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">visualsize</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">movable</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">mass</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">density</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">material_id</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">coll_bitmask</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="joints">Joints</h3>
<p><em>Joints</em> are helper objects defining how <em>nodes</em> or groups of nodes are connected with each other.</p>
<pre><code>&lt;joint name=&quot;H.Knee.000&quot;&gt;
  &lt;index&gt;n&lt;/index&gt;
  &lt;type&gt;jointType&lt;/type&gt;
  &lt;nodeindex1&gt;n1&lt;/nodeindex1&gt;
  &lt;nodeindex2&gt;n2&lt;/nodeindex2&gt;
  &lt;anchorpos&gt;pos&lt;/anchorpos&gt;
  &lt;anchor&gt;
    &lt;x&gt;anch_x&lt;/x&gt;
    &lt;y&gt;anch_y&lt;/y&gt;
    &lt;z&gt;anch_z&lt;/z&gt;
  &lt;/anchor&gt;
  &lt;axis1&gt;
    &lt;x&gt;a1_x&lt;/x&gt;
    &lt;y&gt;a1_y&lt;/y&gt;
    &lt;z&gt;a1_z&lt;/z&gt;
  &lt;/axis1&gt;
  &lt;angle1_offset&gt;offset&lt;/angle1_offset&gt;
&lt;/joint&gt;</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">variable</th>
<th align="left">description</th>
<th align="left">possible values</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">index</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">type</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">nodeindex1</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">nodeindex2</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">anchorpos</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">anchor</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">axis1</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">angle1_offset</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h3 id="motors">Motors</h3>
<p>Motors are associated with joints and can apply forces and torques respectively; for a <em>slider joint</em>, a force is applied while for a <em>hinge joint</em>, motors create a torque. As MARS uses the Open Dynamics Engine for its physics simulation, you can have a look at [ODE's documentation]{http://www.ode.org/ode-latest-userguide.html} to read further on different [joint and motor types]{http://www.ode.org/ode-latest-userguide.html#sec_7_0_0}.</p>
<p>As for the decoding in MARS scenes, motors are described as follows:</p>
<pre><code>&lt;motor name=&quot;H.Hip.000&quot;&gt;
  &lt;index&gt;n&lt;/index&gt;
  &lt;jointIndex&gt;j&lt;/jointIndex&gt;
  &lt;axis&gt;1&lt;/axis&gt;
  &lt;maximumVelocity&gt;v_max&lt;/maximumVelocity&gt;
  &lt;motorMaxForce&gt;f_max&lt;/motorMaxForce&gt;
  &lt;type&gt;t&lt;/type&gt;
  &lt;p&gt;p&lt;/p&gt;
  &lt;i&gt;i&lt;/i&gt;
  &lt;d&gt;d&lt;/d&gt;
  &lt;min_val&gt;minval&lt;/min_val&gt;
  &lt;max_val&gt;maxval&lt;/max_val&gt;
  &lt;value&gt;val&lt;/value&gt;
&lt;/motor&gt;</code></pre>
<p>variable | description | possible values |<br />index | index of the motor | 1..inf |<br />jointIndex | index of the joint with which the motor is associated | 1..inf |<br />axis | around/along which axis of its associated joint the motor turns/slides | 1..3 |<br />maximumVelocity | maximum velocity with which the motor can move the joint | 0..inf |<br />motorMaxForce | maximum force the motor can apply | 0..inf |<br />type | motor type | 1: servo, 2: electric motor |<br />p | P value of a PID controller | 0.. |<br />i | I value of a PID controller | |<br />d | D value of a PID controller | |<br />min_val | minimum value (see below) |<br />max_val | maximum value (see below) |<br />value | |</p>
<h3 id="sensors">Sensors</h3>
<h3 id="materials">Materials</h3>
<pre><code>&lt;material&gt;
  &lt;id&gt;3&lt;/id&gt;
  &lt;diffuseFront&gt;
    &lt;a&gt;1.0&lt;/a&gt;
    &lt;r&gt;0.21402966976165771&lt;/r&gt;
    &lt;g&gt;0.008978134021162987&lt;/g&gt;
    &lt;b&gt;0.0&lt;/b&gt;
  &lt;/diffuseFront&gt;
  &lt;specularFront&gt;
    &lt;a&gt;1.0&lt;/a&gt;
    &lt;r&gt;1.0&lt;/r&gt;
    &lt;g&gt;1.0&lt;/g&gt;
    &lt;b&gt;1.0&lt;/b&gt;
  &lt;/specularFront&gt;
  &lt;shininess&gt;25.0&lt;/shininess&gt;
&lt;/material&gt;</code></pre>
<h3 id="graphic-options">Graphic Options</h3>
      <footer>
        <a href="http://validator.w3.org/check?uri=referer" target="_blank">
          <img src="http://www.w3.org/Icons/valid-html401"
               alt="Valid HTML 4.01 Transitional"/>
        </a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">
          <img src="http://jigsaw.w3.org/css-validator/images/vcss"
               alt="Valid CSS!"/>
        </a>
      </footer>
    </div>
  </body>
</html>
