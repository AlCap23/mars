<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>/Developer/bob-learning-dev/simulation/mars/sim/src/core/NodeManager.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../mars_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<div style="position: absolute; right: 40px; top: 20px;"><a href="https://help.github.com/articles/github-privacy-statement/">Privacy</a></div>
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo_v2_wob.png"/></td>
    <td style="padding-left: 0.5em;">
      <div id="projectbrief">An open-source, flexible 3D physical simulation framework</div>
    </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/dc7/_node_manager_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NodeManager.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d1/dc7/_node_manager_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  Copyright 2011, 2012, DFKI GmbH Robotics Innovation Center</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  This file is part of the MARS simulation framework.</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *  MARS is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *  it under the terms of the GNU Lesser General Public License</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *  as published by the Free Software Foundation, either version 3</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *  of the License, or (at your option) any later version.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *  MARS is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *  but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> *  GNU Lesser General Public License for more details.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *   You should have received a copy of the GNU Lesser General Public License</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *   along with MARS.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d73/_sim_node_8h.html">SimNode.h</a>&quot;</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/ddc/_sim_joint_8h.html">SimJoint.h</a>&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/ddd/_node_manager_8h.html">NodeManager.h</a>&quot;</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d28/_joint_manager_8h.html">JointManager.h</a>&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d11/_physics_mapper_8h.html">PhysicsMapper.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/sim/LoadCenter.h&gt;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/sim/SimulatorInterface.h&gt;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/graphics/GraphicsManagerInterface.h&gt;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/terrainStruct.h&gt;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/Logging.hpp&gt;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &lt;lib_manager/LibManager.hpp&gt;</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &lt;mars/interfaces/utils.h&gt;</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &lt;mars/utils/mathUtils.h&gt;</span></div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &lt;mars/utils/misc.h&gt;</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &lt;stdexcept&gt;</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &lt;mars/utils/MutexLocker.h&gt;</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">namespace </span><a class="code" href="../../df/d48/namespacemars.html">mars</a> {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keyword">namespace </span>sim {</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">using namespace </span><a class="code" href="../../d8/dcc/namespacestd.html">std</a>;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keyword">using namespace </span>utils;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keyword">using namespace </span>interfaces;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08fe838f058aa0aff2279f6585e65253">   65</a></span>&#160;    <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08fe838f058aa0aff2279f6585e65253">NodeManager::NodeManager</a>(<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html">ControlCenter</a> *c,</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                             <a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html">lib_manager::LibManager</a> *theManager) :</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                                 next_node_id(1),</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                                                 update_all_nodes(false),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                                                 visual_rep(1),</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                                                 maxGroupID(0),</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                                 control(c),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                                 libManager(theManager)</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <a class="code" href="../../d8/d6e/classmars_1_1interfaces_1_1_graphics_update_interface.html">GraphicsUpdateInterface</a> *gui = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d8/d6e/classmars_1_1interfaces_1_1_graphics_update_interface.html">GraphicsUpdateInterface</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aa1d1baf8c6bc33298f4f349d5f3afc7a">addGraphicsUpdateInterface</a>(gui);</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a17ab7e2649fd40fc3780645bd2244157">   81</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a17ab7e2649fd40fc3780645bd2244157">NodeManager::createPrimitiveNode</a>(<span class="keyword">const</span> std::string &amp;name,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                                            <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813">NodeType</a> type,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                            <span class="keywordtype">bool</span> moveable,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;pos,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;extension,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                                            <span class="keywordtype">double</span> mass,</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                            <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;orientation,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                            <span class="keywordtype">bool</span> disablePhysics) {</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> s;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a1f329ffc06b69b83c5ca3699ced26824">initPrimitive</a>(type, extension, mass);</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a821f6d2087c9e680d357462deffecdbb">name</a> = name;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a> = pos;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a> = orientation;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">movable</a> = moveable;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      s.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7d19da6e37b03b377434c5c2288a9518">noPhysical</a> = disablePhysics;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">addNode</a>(&amp;s);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">  108</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">NodeManager::addNode</a>(<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> *nodeS, <span class="keywordtype">bool</span> reload,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                                <span class="keywordtype">bool</span> loadGraphics) {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08cf1a2799a9486cfc53fc727e29e63e">next_node_id</a>;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08cf1a2799a9486cfc53fc727e29e63e">next_node_id</a>++;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keywordflow">if</span> (!reload) {</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> reloadNode = *nodeS;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordflow">if</span>((nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> == <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f">NODE_TYPE_TERRAIN</a>) &amp;&amp; nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> ) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>) {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadCenter is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          }</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a> *<a class="code" href="../../db/d77/_camera_sensor_8h.html#ad4103623f9be4a210059916587038673">g</a> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">if</span>(!g) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#abf98dcbc43d6b7fb90a1d189176e2c81">loadLibrary</a>(<span class="stringliteral">&quot;mars_graphics&quot;</span>, NULL, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;              g = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">if</span>(g) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a> = g-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a33d58861d771d6c5d7629d9fa5a0895b">getLoadHeightmapInterface</a>();</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            }</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;              <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadHeightmap is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            }</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;          }</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          reloadNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> = <span class="keyword">new</span>(<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">terrainStruct</a>);</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          *(reloadNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>) = *(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a>-&gt;<a class="code" href="../../d1/d51/classmars_1_1interfaces_1_1_load_heightmap_interface.html#a4bbb04817ba1c65ca68afb8730ce7207">readPixelData</a>(reloadNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>);</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          <span class="keywordflow">if</span>(!reloadNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">pixelData</a>) {</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::addNode: could not load image for terrain&quot;</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;          }</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        }</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.push_back(reloadNode);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">if</span> (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">c_params</a>.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> *tmp = <span class="keyword">new</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          *tmp = *(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">c_params</a>.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>);</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;          <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.back().index == nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>) {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.back().c_params.friction_direction1 = tmp;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;          }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="comment">// to check some preconditions</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordflow">if</span> (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> &lt; 0) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> = 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> &gt; <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cad5bc335fe271e27e28ce385c84c3">maxGroupID</a>) {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cad5bc335fe271e27e28ce385c84c3">maxGroupID</a> = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a>;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      }</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// convert obj to ode mesh</span></div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      <span class="keywordflow">if</span>((nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> == <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813a8bb61c79682d299f370b94eeaa0a68fd">NODE_TYPE_MESH</a>) &amp;&amp; (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> == 0) ) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>) {</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;          <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadCenter is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        }</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a3a2b33f4e0f41c4f09261da6541b0d4f">loadMesh</a>) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          <a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a> *<a class="code" href="../../db/d77/_camera_sensor_8h.html#ad4103623f9be4a210059916587038673">g</a> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          <span class="keywordflow">if</span>(!g) {</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#abf98dcbc43d6b7fb90a1d189176e2c81">loadLibrary</a>(<span class="stringliteral">&quot;mars_graphics&quot;</span>, NULL, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            g = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;          <span class="keywordflow">if</span>(g) {</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a3a2b33f4e0f41c4f09261da6541b0d4f">loadMesh</a> = g-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a74dee855196aae77c5450d5cf30dc35a">getLoadMeshInterface</a>();</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;          }</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadMesh is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;          }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a3a2b33f4e0f41c4f09261da6541b0d4f">loadMesh</a>-&gt;<a class="code" href="../../d7/d02/classmars_1_1interfaces_1_1_load_mesh_interface.html#a0612a51c6117b9e447a745603c145f2d">getPhysicsFromMesh</a>(nodeS);</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <span class="keywordflow">if</span>((nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> == <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f">NODE_TYPE_TERRAIN</a>) &amp;&amp; nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> ) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">if</span>(!nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">pixelData</a>) {</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>) {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadCenter is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;          }</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;          <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a>) {</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a> *<a class="code" href="../../db/d77/_camera_sensor_8h.html#ad4103623f9be4a210059916587038673">g</a> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="keywordflow">if</span>(!g) {</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#abf98dcbc43d6b7fb90a1d189176e2c81">loadLibrary</a>(<span class="stringliteral">&quot;mars_graphics&quot;</span>, NULL, <span class="keyword">false</span>, <span class="keyword">true</span>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;              g = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">libManager</a>-&gt;<a class="code" href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">getLibraryAs</a>&lt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">GraphicsManagerInterface</a>&gt;(<span class="stringliteral">&quot;mars_graphics&quot;</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            }</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <span class="keywordflow">if</span>(g) {</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a> = g-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a33d58861d771d6c5d7629d9fa5a0895b">getLoadHeightmapInterface</a>();</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;              <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager:: loadHeightmap is missing, can not create Node&quot;</span>);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;              <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;          }</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">loadHeightmap</a>-&gt;<a class="code" href="../../d1/d51/classmars_1_1interfaces_1_1_load_heightmap_interface.html#a4bbb04817ba1c65ca68afb8730ce7207">readPixelData</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;          <span class="keywordflow">if</span>(!nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">pixelData</a>) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::addNode: could not load image for terrain&quot;</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;          }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      }</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;      <span class="comment">// this should be done somewhere else</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <span class="comment">// if we have a relative position, we have to calculate the absolute</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;      <span class="comment">// position here</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;      <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> parentDrawID = 0;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;      <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> vizLink = 0;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;      <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>.<a class="code" href="../../db/d84/classconfigmaps_1_1_config_map.html#ad6f765ff3367ce9b3e9b1a8997c4fa61">hasKey</a>(<span class="stringliteral">&quot;vizLink&quot;</span>)) {</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        vizLink = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>[<span class="stringliteral">&quot;vizLink&quot;</span>];</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>.<a class="code" href="../../db/d84/classconfigmaps_1_1_config_map.html#ad6f765ff3367ce9b3e9b1a8997c4fa61">hasKey</a>(<span class="stringliteral">&quot;mapIndex&quot;</span>)) {</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> mapIndex = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>[<span class="stringliteral">&quot;mapIndex&quot;</span>];</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;          <span class="keywordflow">if</span>(mapIndex &amp;&amp; <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>) {</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            vizLink = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">loadCenter</a>-&gt;<a class="code" href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#aa317984f182829a31bf240942124c483">getMappedID</a>(vizLink, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a163cd7e8cceefd9e2b13303214425943ae82b6ecfb664aa70ad0ffdaf198b61fa">MAP_TYPE_NODE</a>,</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                                                       mapIndex);</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;          }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        }</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      }</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">// todo: the combination of vizLink and absolute position will be a problem</span></div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;      <span class="keywordflow">if</span>(!vizLink &amp;&amp; nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a> != 0) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">setNodeStructPositionFromRelative</a>(nodeS);</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="comment">//nodeS-&gt;relative_id = 0;</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      }</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      <span class="comment">// create a node object</span></div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *newNode = <span class="keyword">new</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>, *nodeS);</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <span class="comment">// create the physical node data</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      <span class="keywordflow">if</span>(! (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7d19da6e37b03b377434c5c2288a9518">noPhysical</a>)){</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="comment">// create an interface object to the physics</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        <a class="code" href="../../da/d43/classmars_1_1interfaces_1_1_node_interface.html">NodeInterface</a> *newNodeInterface = <a class="code" href="../../d3/d9f/classmars_1_1sim_1_1_physics_mapper.html#ab9f006c8d93fdc1b6b718ec405c16183">PhysicsMapper::newNodePhysics</a>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#a0309f32f37ef8329816dc6ebeb99dde8">getPhysics</a>());</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        <span class="keywordflow">if</span> (!newNodeInterface-&gt;<a class="code" href="../../da/d43/classmars_1_1interfaces_1_1_node_interface.html#a395bc348a45527dc2b13e60a91f71785">createNode</a>(nodeS)) {</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;          <span class="comment">// if no node was created in physics</span></div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;          <span class="comment">// delete the objects</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;          <span class="keyword">delete</span> newNode;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;          <span class="keyword">delete</span> newNodeInterface;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;          <span class="comment">// and return false</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::addNode: No node was created in physics.&quot;</span>);</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        }</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        <span class="comment">// put all data to the correct place</span></div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="comment">//      newNode-&gt;setSNode(*nodeS);</span></div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a11e78acb43a316ea813ca0f1f1ea46ac">setInterface</a>(newNodeInterface);</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>[nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>] = newNode;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="keywordflow">if</span> (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">movable</a>)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>[nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>] = newNode;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> id;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;          <span class="keywordflow">if</span>(loadGraphics) {</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordtype">id</span> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a5242e4e0ac23103f93bcdc5f82e2d562">addDrawObject</a>(*nodeS, <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0aa155509d8988ba133995009d190dd4">visual_rep</a> &amp; 1);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>) {</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;              newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af3def19fd66f6de7e0d446335f597086">setGraphicsID</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;              <span class="keywordflow">if</span>(!reload) {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.back().graphicsID1 = id;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;              }</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            }</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;          }</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af3def19fd66f6de7e0d446335f597086">setGraphicsID</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6df8b09d3fc1f546b55ed4d39cb20311">graphicsID1</a>);</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;          }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;          <span class="comment">//        NEW_NODE_STRUCT(physicalRep);</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;          <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> physicalRep;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;          physicalRep = *nodeS;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a> = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>.<a class="code" href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#adeccea745cefc3efc58b54c8182d82f1">exists</a> = 1;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>.<a class="code" href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#a7a2195198fad193f13f3b1e9763560f5">transparency</a> = 0.3;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>.<a class="code" href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#aa833131df5bd4f27e5970872f7e501e2">name</a> += <span class="stringliteral">&quot;_trans&quot;</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a1055a9ec00e979f0a502acc0d9b35569">visual_offset_pos</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0.0, 0.0, 0.0);</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a136aef47e1789f1c16080d8cb1889dc7">visual_offset_rot</a> = Quaternion::Identity();</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab275d77caeaa6f78fc7e3288e50fcc7f">visual_size</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0.0, 0.0, 0.0);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>[<span class="stringliteral">&quot;sharedDrawID&quot;</span>] = 0lu;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;          physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">map</a>[<span class="stringliteral">&quot;visualType&quot;</span>] = <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ad43b395305dc48031658f485d1af8ede">NodeData::toString</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> != <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f">NODE_TYPE_TERRAIN</a>) {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> != <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813a8bb61c79682d299f370b94eeaa0a68fd">NODE_TYPE_MESH</a>) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;              physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a00167d354e201a08d480aa5c34c671a5">filename</a> = <span class="stringliteral">&quot;PRIMITIVE&quot;</span>;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;              <span class="comment">//physicalRep.filename = nodeS-&gt;filename;</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;              <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> &gt; 0 &amp;&amp; nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> &lt; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad00726a056ce52d0702c7dd5ecf54615">NUMBER_OF_NODE_TYPES</a>){</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                physicalRep.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#afd2c77b9b629cca1acec6c1d0397f2d4">origName</a> = <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ad43b395305dc48031658f485d1af8ede">NodeData::toString</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a>);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;              }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            }</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <span class="keywordflow">if</span>(loadGraphics) {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;              <span class="keywordtype">id</span> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a5242e4e0ac23103f93bcdc5f82e2d562">addDrawObject</a>(physicalRep,</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                                    <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0aa155509d8988ba133995009d190dd4">visual_rep</a> &amp; 2);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;              <span class="keywordflow">if</span>(<span class="keywordtype">id</span>) {</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5b63b9509d5fff34a80147ed4baca375">setGraphicsID2</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                <span class="keywordflow">if</span>(!reload) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                  <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.back().graphicsID2 = id;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;              }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">else</span> {</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;              newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5b63b9509d5fff34a80147ed4baca375">setGraphicsID2</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a595e2c296b0b9d4cbf72405f76db79d7">graphicsID2</a>);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;          }</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;          newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#acb806956a25f6068526b5218f7496626">setVisualRep</a>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0aa155509d8988ba133995009d190dd4">visual_rep</a>);</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      } <span class="keywordflow">else</span> {  <span class="comment">//if nonPhysical</span></div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">if</span>(vizLink) {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>[nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>] = newNode;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          parentDrawID = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>[vizLink]-&gt;getGraphicsID();</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>[nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>] = newNode;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          <span class="keywordflow">if</span> (nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">movable</a>) {</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>[nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>] = newNode;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;          }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        }</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;          <span class="keywordflow">if</span>(loadGraphics) {</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span> = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a5242e4e0ac23103f93bcdc5f82e2d562">addDrawObject</a>(*nodeS);</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <span class="keywordflow">if</span>(<span class="keywordtype">id</span>) {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;              newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af3def19fd66f6de7e0d446335f597086">setGraphicsID</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;              <span class="keywordflow">if</span>(parentDrawID) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aef0c26265888499788f07a34ddaf1b24">makeChild</a>(parentDrawID, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;              }</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;              <span class="keywordflow">if</span>(!reload) {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.back().graphicsID1 = id;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;              }</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            }</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          }</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            newNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af3def19fd66f6de7e0d446335f597086">setGraphicsID</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6df8b09d3fc1f546b55ed4d39cb20311">graphicsID1</a>);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          }</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        }</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      <span class="keywordflow">return</span> nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a694f97459ffe95eccbab8b81a6ccbde7">  357</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a694f97459ffe95eccbab8b81a6ccbde7">NodeManager::addTerrain</a>(<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">terrainStruct</a>* terrain) {</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> newNode;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;      <a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">terrainStruct</a> *newTerrain = <span class="keyword">new</span> <a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">terrainStruct</a>(*terrain);</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <a class="code" href="../../d9/d73/structmars_1_1utils_1_1s_rotation.html">sRotation</a> trot = {0, 0, 0};</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a821f6d2087c9e680d357462deffecdbb">name</a> = terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a71d33549212dbc177d9fabeb6650d878">name</a>;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a00167d354e201a08d480aa5c34c671a5">filename</a> = terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a14fc4ffb9fc436fbb51a1675b8194047">srcname</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> = newTerrain;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">movable</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> = 0;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a> = 0;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> = <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f">NODE_TYPE_TERRAIN</a>;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0.0, 0.0, 0.0);</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aff95930b4b9c6c37e33ee4388882cee1">eulerToQuaternion</a>(trot);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a670eb8431b16673fd219e766cd66530d">density</a> = 1;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a8f9d3a2e9aafc73e7a298111a680fa59">mass</a> = 0;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ac0c6327c5547698606126cb729cb6940">targetWidth</a>, terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ac95195bd33a39f250e82c541f9b8f2aa">targetHeight</a>,</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                           terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a7b96ad9cf08a88b2e5b7f5ec88a615df">scale</a>);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;      newNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a> = terrain-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a9a33484613a5785508a39f18cf8b7827">material</a>;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">addNode</a>(&amp;newNode, <span class="keyword">true</span>);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a66bd366ae63e9b0507c68b5a581e90ec">  386</a></span>&#160;    vector&lt;NodeId&gt; <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">NodeManager::addNode</a>(vector&lt;NodeData&gt; v_NodeData) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;      vector&lt;NodeId&gt; tmp;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;      vector&lt;NodeData&gt;::iterator iter;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      <span class="keywordflow">for</span>(iter=v_NodeData.begin(); iter!=v_NodeData.end(); iter++)</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        tmp.push_back(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">addNode</a>(&amp;(*iter)));</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;      <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a724f6f54fa0273f71f7b3ce06cda2d74">  402</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a724f6f54fa0273f71f7b3ce06cda2d74">NodeManager::addPrimitive</a>(<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> *snode) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">addNode</a>(snode);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8ec3b818063fb126459e95d5f7a9a3a3">  411</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8ec3b818063fb126459e95d5f7a9a3a3">NodeManager::exists</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;      <span class="keywordflow">if</span>(iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;      }</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a94cd623c1fb789d6a3940f940beb2a">  423</a></span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a94cd623c1fb789d6a3940f940beb2a">NodeManager::getNodeCount</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.size();</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae4e9b165ecd8450cdf396e5b118280eb">  428</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae4e9b165ecd8450cdf396e5b118280eb">NodeManager::getNextNodeID</a>()<span class="keyword"> const </span>{</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08cf1a2799a9486cfc53fc727e29e63e">next_node_id</a>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a985862b4511d40ebd5eca1a9e399df">  436</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a985862b4511d40ebd5eca1a9e399df">NodeManager::editNode</a>(<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> *nodeS, <span class="keywordtype">int</span> changes) {</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;      std::vector&lt;SimJoint*&gt;::iterator jter;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;      std::vector&lt;int&gt; gids;</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;      NodeMap::iterator it;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> offset;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> rotation_point;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      <span class="comment">//cout &lt;&lt; &quot;NodeManager::editNode !!!&quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;      <span class="comment">// first lock all core functions</span></div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;      iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      <span class="keywordflow">if</span>(iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::editNode: node id not found!&quot;</span>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;      }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *editedNode = iter-&gt;second;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> sNode = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a21a7fa4ec1ced6109f16de626f040450">getSNode</a>();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      <span class="keywordflow">if</span>(changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a98440837db65a38e580e13d00af5a889">EDIT_NODE_POS</a>) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">if</span>(changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340">EDIT_NODE_MOVE_ALL</a>) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          <span class="comment">// first move the node an all nodes of the group</span></div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          offset = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1a936614514034d665b8f8a8b0bbae7d">setPosition</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          <span class="comment">// then move recursive all nodes that are connected through</span></div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          <span class="comment">// joints to the node</span></div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;          std::vector&lt;SimJoint*&gt; joints = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          <span class="keywordflow">if</span>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>())</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;            gids.push_back(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>());</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;          std::vector&lt;SimJoint*&gt; jointsj = joints;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;          nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa95082469f40b225f2e9fb06fb824e67">moveNodeRecursive</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>, offset, &amp;joints, &amp;gids, &amp;nodes);</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;          <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a>) {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">setNodeStructPositionFromRelative</a>(nodeS);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;          }</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> diff = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a> - editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">getPosition</a>();</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1a936614514034d665b8f8a8b0bbae7d">setPosition</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          <span class="comment">// new implementation in jointManager?</span></div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodesj = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          std::vector&lt;SimJoint*&gt; jointsj = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597">moveRelativeNodes</a>(*editedNode, &amp;nodes, diff);</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          <span class="keywordflow">if</span>(sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> != 0) {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">for</span>(it=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); it!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); ++it) {</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;              <span class="keywordflow">if</span>(it-&gt;second-&gt;getGroupID() == sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a>) {</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(it-&gt;second-&gt;getID());</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;              }</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            }</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;          }</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;          }</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">resetRelativeJoints</a>(*editedNode, &amp;nodesj, &amp;jointsj);</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        }</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      }</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;      <span class="keywordflow">if</span>(changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a3f1913e5b7787f94e20b12de5dd8bd2f">EDIT_NODE_ROT</a>) {</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> q(Quaternion::Identity());</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="keywordflow">if</span>(changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340">EDIT_NODE_MOVE_ALL</a>) {</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;          <span class="comment">// first move the node an all nodes of the group</span></div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;          rotation_point = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">getPosition</a>();</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;          <span class="comment">// the first node have to be rotated normal, not at a point</span></div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;          <span class="comment">// and should return the relative rotation it executes</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;          q = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ac418b567bb9e7d66ddc8b342df8e2e20">setRotation</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;          <span class="comment">// then rotate recursive all nodes that are connected through</span></div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          <span class="comment">// joints to the node</span></div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          std::vector&lt;SimJoint*&gt; joints = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;          <span class="keywordflow">if</span>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>())</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            gids.push_back(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>());</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;          std::vector&lt;SimJoint*&gt; jointsj = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;          nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#acecbb6dc390c521e1929357b4d611c64">rotateNodeRecursive</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>, rotation_point, q, &amp;joints,</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                              &amp;gids, &amp;nodes);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;          <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a>) {</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">setNodeStructPositionFromRelative</a>(nodeS);</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> da = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a21a7fa4ec1ced6109f16de626f040450">getSNode</a>();</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            da.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a> = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a4dbdc2b24e8645bf70f3878138d3fd72">setRelativePosition</a>(da);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          }</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          rotation_point = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">getPosition</a>();</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;          <span class="comment">//if(nodeS-&gt;relative_id &amp;&amp; !load_actual)</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="comment">//setNodeStructPositionFromRelative(nodeS);</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;          q = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ac418b567bb9e7d66ddc8b342df8e2e20">setRotation</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>, 0);</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;          <span class="comment">//(*iter)-&gt;rotateAtPoint(&amp;rotation_point, &amp;nodeS-&gt;rot, false);</span></div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodesj = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;          std::vector&lt;SimJoint*&gt; jointsj = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;          nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd">rotateRelativeNodes</a>(*editedNode, &amp;nodes, rotation_point, q);</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;          <span class="keywordflow">if</span>(sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> != 0) {</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;            <span class="keywordflow">for</span>(it=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); it!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); ++it) {</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;              <span class="keywordflow">if</span>(it-&gt;second-&gt;getGroupID() == sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a>) {</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(it-&gt;second-&gt;getID());</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;              }</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            }</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          }</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;          <span class="keywordflow">else</span> {</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>);</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;          }</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>(); <span class="comment">// is this desired???</span></div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">resetRelativeJoints</a>(*editedNode, &amp;nodesj, &amp;jointsj);</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        }</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      }</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keywordflow">if</span> ((changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4adb775a37038916d462cc72dac122d259">EDIT_NODE_SIZE</a>) || (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a0bcd1c31a617930314f2f1367ae5789c">EDIT_NODE_TYPE</a>) || (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a30e4dc5d1f0555c73ed059d832f3a12f">EDIT_NODE_CONTACT</a>) ||</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;          (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a42c109856000380968b5b49e82f3674c">EDIT_NODE_MASS</a>) || (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a18cb78041647d5153c0ef4418888278d">EDIT_NODE_NAME</a>) ||</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;          (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4af5fccd15f11ccfa6b92facd79dfb3d0b">EDIT_NODE_GROUP</a>) || (changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a52d87585c55d87be1238e743839cee72">EDIT_NODE_PHYSICS</a>)) {</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment">//cout &lt;&lt; &quot;EDIT_NODE_SIZE !!!&quot; &lt;&lt; endl;</span></div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(editedNode, nodeS);</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;<span class="comment">          if (changes &amp; EDIT_NODE_SIZE) {</span></div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="comment">          NodeMap nodes = simNodes;</span></div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="comment">          NodeMap nodesj = simNodes;</span></div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;<span class="comment">          std::vector&lt;SimJoint*&gt; jointsj = control-&gt;joints-&gt;getSimJoints();</span></div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">          nodes.erase(nodes.find(editedNode-&gt;getID()));</span></div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">          resetRelativeNodes(*editedNode, &amp;nodes);</span></div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">          iMutex.unlock(); // is this desired???</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;<span class="comment">          resetRelativeJoints(*editedNode, &amp;nodesj, &amp;jointsj);</span></div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;<span class="comment">          iMutex.lock();</span></div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;<span class="comment">          }</span></div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      }</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      <span class="keywordflow">if</span> ((changes &amp; <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a3fd09978d0120e2802dfa0245ace6680">EDIT_NODE_MATERIAL</a>)) {</div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a6ee2be3f10bf6aa3661ad369eb062625">setMaterial</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>)</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a143d558b95ae35ea4ea84688201a64e8">setDrawObjectMaterial</a>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5fa3877ac50afe824d7f2111ec8afdc2">getGraphicsID</a>(),</div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                                                   nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">material</a>);</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      }</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;      <span class="comment">// vs: updateNodesFromPhysics();</span></div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">updateDynamicNodes</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    }</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9b481c9d890d1729a783470396fed976">  589</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9b481c9d890d1729a783470396fed976">NodeManager::changeGroup</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> group) {</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;      <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a54bf7743dcb5818f0dc609c7f383014f">CPP_UNUSED</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;      <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a54bf7743dcb5818f0dc609c7f383014f">CPP_UNUSED</a>(group);</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    }</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae556cccd066d869b759b31634a29bc18">  598</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae556cccd066d869b759b31634a29bc18">NodeManager::getListNodes</a>(vector&lt;core_objects_exchange&gt;* nodeList)<span class="keyword"> const </span>{</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <a class="code" href="../../dc/d0d/structmars_1_1interfaces_1_1core__objects__exchange.html">core_objects_exchange</a> obj;</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      NodeMap::const_iterator iter;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      nodeList-&gt;clear();</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <span class="keywordflow">for</span> (iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++) {</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        iter-&gt;second-&gt;getCoreExchange(&amp;obj);</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        nodeList-&gt;push_back(obj);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      }</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    }</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div><div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae95f636dffb97abf5caa38fc72ed22fc">  613</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae95f636dffb97abf5caa38fc72ed22fc">NodeManager::getNodeExchange</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../dc/d0d/structmars_1_1interfaces_1_1core__objects__exchange.html">core_objects_exchange</a>* obj)<span class="keyword"> const </span>{</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        iter-&gt;second-&gt;getCoreExchange(obj);</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        obj = NULL;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae44ce0d6b3e034e93df37510121f3988">  626</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae44ce0d6b3e034e93df37510121f3988">NodeManager::getFullNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;getSNode();</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        <span class="keywordtype">char</span> msg[128];</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        sprintf(msg, <span class="stringliteral">&quot;could not find node with id: %lu&quot;</span>, <span class="keywordtype">id</span>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error(msg);</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;      }</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    }</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div><div class="line"><a name="l00660"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">  660</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">NodeManager::removeNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> clearGraphics) {</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">removeNode</a>(<span class="keywordtype">id</span>, <span class="keyword">true</span>, clearGraphics);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    }</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div><div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a55f1b2b8ab3ffffd5f97f703a8b82eef">  664</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">NodeManager::removeNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad09d9259a40534ef23ffeb08106db42a">lock</a>, <span class="keywordtype">bool</span> clearGraphics) {</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;      NodeMap::iterator iter; <span class="comment">//NodeMap is a map containing an id and a SimNode</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *tmpNode = 0;</div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;</div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;      <span class="keywordflow">if</span>(lock) <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        tmpNode = iter-&gt;second; <span class="comment">//iter-&gt;second is a pointer to the SimNode associated with the map</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.erase(iter);</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      }</div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.end()) {</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="comment">// todo: handle remove child in graphics</span></div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        tmpNode = iter-&gt;second; <span class="comment">//iter-&gt;second is a pointer to the SimNode associated with the map</span></div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.erase(iter);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;      }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;      iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.end()) {</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.erase(iter);</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;      }</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;      <span class="keywordflow">if</span> (tmpNode &amp;&amp; tmpNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#addd15eb3e4853f0152908bf8723ab76e">isMovable</a>()) {</div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end()) {</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.erase(iter);</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        }</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;      }</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;      <span class="keywordflow">if</span>(!lock) <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;      <span class="keywordflow">if</span> (tmpNode) {</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af3500ff66203cf73b4eba773c04daa60">clearRelativePosition</a>(<span class="keywordtype">id</span>, lock);</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a> &amp;&amp; clearGraphics) {</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#ab12f68cf64f5e8e9e6c99d84c357b147">removeDrawObject</a>(tmpNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5fa3877ac50afe824d7f2111ec8afdc2">getGraphicsID</a>());</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#ab12f68cf64f5e8e9e6c99d84c357b147">removeDrawObject</a>(tmpNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a262979f3a28f1680b4761cefb06a4522">getGraphicsID2</a>());</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        }</div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keyword">delete</span> tmpNode;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      }</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">sceneHasChanged</a>(<span class="keyword">false</span>);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    }</div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div><div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a384b1349c8cc151e6ce89a3440f17ffe">  711</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a384b1349c8cc151e6ce89a3440f17ffe">NodeManager::setNodeState</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d1/d94/structmars_1_1interfaces_1_1node_state.html">nodeState</a> &amp;state) {</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;        iter-&gt;second-&gt;setPhysicalState(state);</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    }</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;</div><div class="line"><a name="l00721"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abc323e0c49efed257e258645cf0c7fd3">  721</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abc323e0c49efed257e258645cf0c7fd3">NodeManager::getNodeState</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d1/d94/structmars_1_1interfaces_1_1node_state.html">nodeState</a> *state)<span class="keyword"> const </span>{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        iter-&gt;second-&gt;getPhysicalState(state);</div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    }</div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div><div class="line"><a name="l00732"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3974bf0a49c4c41656e09dd16789e664">  732</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3974bf0a49c4c41656e09dd16789e664">NodeManager::getCenterOfMass</a>(<span class="keyword">const</span> std::vector&lt;NodeId&gt; &amp;<a class="code" href="../../db/d24/tsort_8c.html#a51edfd33a41382379ccfa90c5c324a2a">ids</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;      std::vector&lt;NodeId&gt;::const_iterator iter;</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      NodeMap::const_iterator nter;</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      std::vector&lt;NodeInterface*&gt; pNodes;</div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;</div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;      <span class="keywordflow">for</span> (iter = ids.begin(); iter != ids.end(); iter++) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        nter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(*iter);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">if</span> (nter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;          pNodes.push_back(nter-&gt;second-&gt;getInterface());</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      }</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">sim</a>-&gt;<a class="code" href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#a0309f32f37ef8329816dc6ebeb99dde8">getPhysics</a>()-&gt;<a class="code" href="../../d0/d22/classmars_1_1interfaces_1_1_physics_interface.html#a970d7d6a206500fc6eda812e72599b18">getCenterOfMass</a>(pNodes);</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    }</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div><div class="line"><a name="l00751"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ed4be511e457a69402a1797569ccc86">  751</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ed4be511e457a69402a1797569ccc86">NodeManager::setPosition</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;pos) {</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        iter-&gt;second-&gt;setPosition(pos, 1);</div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>[id] = iter-&gt;second;</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      }</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div><div class="line"><a name="l00761"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac751850ad54db6bae0547284dfbad5ea">  761</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac751850ad54db6bae0547284dfbad5ea">NodeManager::getPosition</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> pos(0.0,0.0,0.0);</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        pos = iter-&gt;second-&gt;getPosition();</div><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      <span class="keywordflow">return</span> pos;</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div><div class="line"><a name="l00771"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a00356d41ed402b01751e2745cc27fc42">  771</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a00356d41ed402b01751e2745cc27fc42">NodeManager::getRotation</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> q(Quaternion::Identity());</div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;        q = iter-&gt;second-&gt;getRotation();</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      <span class="keywordflow">return</span> q;</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;</div><div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div><div class="line"><a name="l00781"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a84c648cdb86838162eab1dbe3fb7c52e">  781</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a84c648cdb86838162eab1dbe3fb7c52e">NodeManager::getLinearVelocity</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> vel(0.0,0.0,0.0);</div><div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        vel = iter-&gt;second-&gt;getLinearVelocity();</div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      <span class="keywordflow">return</span> vel;</div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    }</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div><div class="line"><a name="l00790"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a95a48ac32e9c041bd21d142cb1504b04">  790</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a95a48ac32e9c041bd21d142cb1504b04">NodeManager::getAngularVelocity</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> avel(0.0,0.0,0.0);</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        avel = iter-&gt;second-&gt;getAngularVelocity();</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="keywordflow">return</span> avel;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    }</div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div><div class="line"><a name="l00800"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6a439c7ee4e31273ade9c44a9ba5c0d">  800</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6a439c7ee4e31273ade9c44a9ba5c0d">NodeManager::getLinearAcceleration</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> acc(0.0,0.0,0.0);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        acc = iter-&gt;second-&gt;getLinearAcceleration();</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      <span class="keywordflow">return</span> acc;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    }</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div><div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9ca704e7e5197695ef57fe8472972d25">  809</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9ca704e7e5197695ef57fe8472972d25">NodeManager::getAngularAcceleration</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> aacc(0.0,0.0,0.0);</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        aacc = iter-&gt;second-&gt;getAngularAcceleration();</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordflow">return</span> aacc;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    }</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;</div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;</div><div class="line"><a name="l00824"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a64f43d079b31434d9d354b996d1f1a5b">  824</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a64f43d079b31434d9d354b996d1f1a5b">NodeManager::setRotation</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;rot) {</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        iter-&gt;second-&gt;setRotation(rot, 1);</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div><div class="line"><a name="l00834"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cae00235e02d080370f34d2ca1e583">  834</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cae00235e02d080370f34d2ca1e583">NodeManager::applyForce</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;force, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;pos) {</div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        iter-&gt;second-&gt;applyForce(force, pos);</div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    }</div><div class="line"><a name="l00843"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abbeee0ddb6f74b5d6c3b6da46b259c42">  843</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cae00235e02d080370f34d2ca1e583">NodeManager::applyForce</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;force) {</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        iter-&gt;second-&gt;applyForce(force);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    }</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div><div class="line"><a name="l00853"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a44a698dde274136660c6e9b73818f2b3">  853</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a44a698dde274136660c6e9b73818f2b3">NodeManager::applyTorque</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;torque) {</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;        iter-&gt;second-&gt;applyTorque(torque);</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    }</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div><div class="line"><a name="l00864"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae7cc15f53e7c10e80db9870700ab6c4c">  864</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae7cc15f53e7c10e80db9870700ab6c4c">NodeManager::setContactParamMotion1</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> motion) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        iter-&gt;second-&gt;setContactMotion1(motion);</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    }</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div><div class="line"><a name="l00875"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9e3e22e0ceeaa1a2b619f47ed4fec8f">  875</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9e3e22e0ceeaa1a2b619f47ed4fec8f">NodeManager::addNodeSensor</a>(<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html">BaseNodeSensor</a> *sensor){</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(sensor-&gt;<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html#ad6cb742af3f96c07d85a6de928a6a5de">getAttachedNode</a>());</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;        iter-&gt;second-&gt;addSensor(sensor);</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        NodeMap::iterator kter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.find(sensor-&gt;<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html#ad6cb742af3f96c07d85a6de928a6a5de">getAttachedNode</a>());</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> (kter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end())</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>[iter-&gt;first] = iter-&gt;second;</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;      }</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        {</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;          std::cerr &lt;&lt; <span class="stringliteral">&quot;Could not find node id &quot;</span> &lt;&lt; sensor-&gt;<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html#ad6cb742af3f96c07d85a6de928a6a5de">getAttachedNode</a>() &lt;&lt; <span class="stringliteral">&quot; in simNodes and did not call addSensors on the node.&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        }</div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    }</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;</div><div class="line"><a name="l00890"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abe5c5c946445f265d3e40697bd8c5032">  890</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abe5c5c946445f265d3e40697bd8c5032">NodeManager::reloadNodeSensor</a>(<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html">BaseNodeSensor</a>* sensor) {</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(sensor-&gt;<a class="code" href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html#ad6cb742af3f96c07d85a6de928a6a5de">getAttachedNode</a>());</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        iter-&gt;second-&gt;reloadSensor(sensor);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    }</div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;</div><div class="line"><a name="l00900"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1b3d3b3be71e86853a98f0371e8715d2">  900</a></span>&#160;    <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1b3d3b3be71e86853a98f0371e8715d2">NodeManager::getSimNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">const_cast&lt;</span><a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>*<span class="keyword">&gt;</span>(<span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html">NodeManager</a>*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1b3d3b3be71e86853a98f0371e8715d2">getSimNode</a>(<span class="keywordtype">id</span>));</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div><div class="line"><a name="l00904"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a11138b7cfd9155e33386d613bbece5d5">  904</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1b3d3b3be71e86853a98f0371e8715d2">NodeManager::getSimNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second;</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;        <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    }</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;</div><div class="line"><a name="l00914"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">  914</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">NodeManager::setNodeStructPositionFromRelative</a>(<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> *node)<span class="keyword"> const </span>{</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(node-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a>);</div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> tmpNode = iter-&gt;second-&gt;getSNode();</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a409e57378d3291ef6c6916c63deebbb5">getAbsFromRel</a>(tmpNode, node);</div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      }</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    }</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div><div class="line"><a name="l00923"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a12cea9f4c621289606b14d3d1867067c">  923</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a12cea9f4c621289606b14d3d1867067c">NodeManager::resetRelativeNodes</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> &amp;node,</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                                         <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes,</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                                         <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> *rotate) {</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> tmpNode, tmpNode2;</div><div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* nextNode;</div><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div><div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;      <span class="comment">// TODO: doesn&#39;t this function need locking? no</span></div><div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;      tmpNode = node.<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a21a7fa4ec1ced6109f16de626f040450">getSNode</a>();</div><div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;      <span class="keywordflow">for</span> (iter = nodes-&gt;begin(); iter != nodes-&gt;end(); iter++) {</div><div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">if</span> (iter-&gt;second-&gt;getSNode().relative_id == node.<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()) {</div><div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;          nextNode = iter-&gt;second;</div><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;          tmpNode2 = iter-&gt;second-&gt;getSNode();</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;          <span class="keywordflow">if</span>(rotate)</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;            tmpNode2.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a> = *rotate * tmpNode2.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;          <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a409e57378d3291ef6c6916c63deebbb5">getAbsFromRel</a>(tmpNode, &amp;tmpNode2);</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;          iter-&gt;second-&gt;setPosition(tmpNode2.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;          iter-&gt;second-&gt;setRotation(tmpNode2.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>, 0);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;          nodes-&gt;erase(iter);</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a12cea9f4c621289606b14d3d1867067c">resetRelativeNodes</a>(node, nodes, rotate);</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a12cea9f4c621289606b14d3d1867067c">resetRelativeNodes</a>(*nextNode, nodes, rotate);</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        }</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      }</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;    }</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div><div class="line"><a name="l00949"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">  949</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">NodeManager::resetRelativeJoints</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> &amp;node,</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                                          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes,</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;                                          std::vector&lt;SimJoint*&gt; *joints,</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> *rotate) {</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;      std::vector&lt;SimJoint*&gt;::iterator jter;</div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;      std::vector&lt;SimJoint*&gt;::iterator jter2;</div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* nextNode;</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;      <span class="keywordflow">for</span> (iter = nodes-&gt;begin(); iter != nodes-&gt;end(); iter++) {</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;        <span class="keywordflow">if</span> (iter-&gt;second-&gt;getSNode().relative_id == node.<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()) {</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;          nextNode = iter-&gt;second;</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;          <span class="keywordflow">for</span> (jter = joints-&gt;begin(); jter != joints-&gt;end();) {</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;            <span class="keywordflow">if</span> ((*jter)-&gt;getSJoint().nodeIndex1 == iter-&gt;first ||</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                (*jter)-&gt;getSJoint().nodeIndex2 == iter-&gt;first) {</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;              <span class="keywordflow">if</span>(rotate) (*jter)-&gt;rotateAxis(*rotate);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;              (*jter)-&gt;reattachJoint();</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;              jter2 = jter;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;              <span class="keywordflow">if</span>(jter != joints-&gt;begin()) jter--;</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;              <span class="keywordflow">else</span> jter = joints-&gt;begin();</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;              joints-&gt;erase(jter2);</div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;            }</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;            <span class="keywordflow">else</span> jter++;</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;          }</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;          nodes-&gt;erase(iter);</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">resetRelativeJoints</a>(node, nodes, joints, rotate);</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">resetRelativeJoints</a>(*nextNode, nodes, joints, rotate);</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        }</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;      }</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;    }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div><div class="line"><a name="l00987"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">  987</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">NodeManager::recursiveHelper</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../dd/dd8/structmars_1_1sim_1_1_node_manager_1_1_params.html">Params</a> *params,</div><div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                                      std::vector&lt;SimJoint*&gt; *joints,</div><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                      std::vector&lt;int&gt; *gids,</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                                      <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes,</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                                      <span class="keywordtype">void</span> (*applyFunc)(<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *, <span class="keyword">const</span> <a class="code" href="../../dd/dd8/structmars_1_1sim_1_1_node_manager_1_1_params.html">Params</a> *)) {</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;      std::vector&lt;SimJoint*&gt;::iterator iter;</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;      std::vector&lt;int&gt;::iterator jter;</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;      NodeMap::iterator nter;</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> id2;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;      <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;      <span class="keywordflow">for</span>(jter = gids-&gt;begin(); jter != gids-&gt;end(); jter++) {</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        <span class="keywordflow">for</span>(nter = nodes-&gt;begin(); nter != nodes-&gt;end(); nter++) {</div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;          <span class="keywordflow">if</span>(nter-&gt;second-&gt;getGroupID() == (*jter)) {</div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;            id2 = nter-&gt;first;</div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            nodes-&gt;erase(nter);</div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(<span class="keywordtype">id</span>, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(id2, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;          }</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;        }</div><div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      }</div><div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;</div><div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;      <span class="keywordflow">for</span> (iter = joints-&gt;begin(); iter != joints-&gt;end(); iter++) {</div><div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;        <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode() &amp;&amp;</div><div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            (*iter)-&gt;getAttachedNode()-&gt;getID() == id) {</div><div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;          <span class="keywordflow">for</span> (jter = gids-&gt;begin(); jter != gids-&gt;end(); jter++) {</div><div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode(2) &amp;&amp;</div><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                (*jter) == (*iter)-&gt;getAttachedNode(2)-&gt;getGroupID()) {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;              found = <span class="keyword">true</span>;</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;            }</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;          }</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;          <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode(2) &amp;&amp;</div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;              nodes-&gt;find((*iter)-&gt;getAttachedNode(2)-&gt;getID()) != nodes-&gt;end()) {</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            id2 = (*iter)-&gt;getAttachedNode(2)-&gt;getID();</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;              <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode(2)-&gt;getGroupID())</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                gids-&gt;push_back((*iter)-&gt;getAttachedNode(2)-&gt;getGroupID());</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;              applyFunc((*iter)-&gt;getAttachedNode(2), params);</div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            }</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;            nodes-&gt;erase(nodes-&gt;find((*iter)-&gt;getAttachedNode(2)-&gt;getID()));</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            joints-&gt;erase(iter);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(<span class="keywordtype">id</span>, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(id2, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;          }</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;          <span class="keywordflow">else</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode(2) &amp;&amp;</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                   (*iter)-&gt;getAttachedNode(2)-&gt;getID() == id) {</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;          <span class="keywordflow">for</span> (jter = gids-&gt;begin(); jter != gids-&gt;end(); jter++) {</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;            <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode() &amp;&amp;</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;                (*jter) == (*iter)-&gt;getAttachedNode()-&gt;getGroupID()) {</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;              found = <span class="keyword">true</span>;</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;            }</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;          }</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;          <span class="keywordflow">if</span>(nodes-&gt;find((*iter)-&gt;getAttachedNode()-&gt;getID()) != nodes-&gt;end()) {</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;            id2 = (*iter)-&gt;getAttachedNode()-&gt;getID();</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;            <span class="keywordflow">if</span> (!found) {</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;              <span class="keywordflow">if</span> ((*iter)-&gt;getAttachedNode()-&gt;getGroupID())</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                gids-&gt;push_back((*iter)-&gt;getAttachedNode()-&gt;getGroupID());</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;              applyFunc((*iter)-&gt;getAttachedNode(), params);</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;            }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;            nodes-&gt;erase(nodes-&gt;find((*iter)-&gt;getAttachedNode()-&gt;getID()));</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;            joints-&gt;erase(iter);</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(<span class="keywordtype">id</span>, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(id2, params, joints, gids, nodes, applyFunc);</div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;            <span class="keywordflow">return</span>;</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;          }</div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;          <span class="keywordflow">else</span> found = <span class="keyword">false</span>;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;        }</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;</div><div class="line"><a name="l01063"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad422d1ccba8ffa99bfeb967a6c9a5215"> 1063</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad422d1ccba8ffa99bfeb967a6c9a5215">NodeManager::applyMove</a>(<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *node, <span class="keyword">const</span> <a class="code" href="../../dd/dd8/structmars_1_1sim_1_1_node_manager_1_1_params.html">Params</a> *params)</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    {</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> offset = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../d0/d6f/structmars_1_1sim_1_1_node_manager_1_1_move_params.html">MoveParams</a>*<span class="keyword">&gt;</span>(params)-&gt;offset;</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;      node-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1d87b7f0771708ddac43be5f51127f22">setPositionOffset</a>(offset);</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    }</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;</div><div class="line"><a name="l01069"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4243edc8e1c063030f6a7b4532de1abd"> 1069</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4243edc8e1c063030f6a7b4532de1abd">NodeManager::applyRotation</a>(<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *node, <span class="keyword">const</span> <a class="code" href="../../dd/dd8/structmars_1_1sim_1_1_node_manager_1_1_params.html">Params</a> *params)</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    {</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;      <span class="keyword">const</span> <a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html">RotationParams</a> *p = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html">RotationParams</a>*<span class="keyword">&gt;</span>(params);</div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      node-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ab2e43bb6398eebafaf8af0f0df92fba2">rotateAtPoint</a>(p-&gt;<a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#adc2e10ed9971fc0dd56eefc541caf08c">rotation_point</a>, p-&gt;<a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#abccce9f4938030f30e3f722e733f5c80">rotation</a>, <span class="keyword">true</span>);</div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;    }</div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;</div><div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa95082469f40b225f2e9fb06fb824e67"> 1075</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa95082469f40b225f2e9fb06fb824e67">NodeManager::moveNodeRecursive</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;offset,</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                                        std::vector&lt;SimJoint*&gt; *joints,</div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                                        std::vector&lt;int&gt; *gids,</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                                        <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes) {</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;      <a class="code" href="../../d0/d6f/structmars_1_1sim_1_1_node_manager_1_1_move_params.html">MoveParams</a> params;</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;      params.<a class="code" href="../../d0/d6f/structmars_1_1sim_1_1_node_manager_1_1_move_params.html#a2ac9f21e45d319625ec81b76d9691163">offset</a> = offset;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(<span class="keywordtype">id</span>, &amp;params, joints, gids, nodes, &amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad422d1ccba8ffa99bfeb967a6c9a5215">applyMove</a>);</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    }</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;</div><div class="line"><a name="l01084"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1198db611e698e7941dacc8a99a513f0"> 1084</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1198db611e698e7941dacc8a99a513f0">NodeManager::rotateNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> pivot, <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> q,</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> excludeJointId, <span class="keywordtype">bool</span> includeConnected) {</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;      std::vector&lt;int&gt; gids;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;      <span class="keywordflow">if</span>(iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::rotateNode: node id not found!&quot;</span>);</div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      }</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *editedNode = iter-&gt;second;</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ab2e43bb6398eebafaf8af0f0df92fba2">rotateAtPoint</a>(pivot, q, <span class="keyword">true</span>);</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;      <span class="keywordflow">if</span> (includeConnected) {</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        std::vector&lt;SimJoint*&gt; joints = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;        std::vector&lt;SimJoint*&gt;::iterator jter;</div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <span class="keywordflow">for</span>(jter=joints.begin(); jter!=joints.end(); ++jter) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;          <span class="keywordflow">if</span>((*jter)-&gt;getIndex() == excludeJointId) {</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            joints.erase(jter);</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;          }</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        }</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="keywordflow">if</span>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>())</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;          gids.push_back(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>());</div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#acecbb6dc390c521e1929357b4d611c64">rotateNodeRecursive</a>(<span class="keywordtype">id</span>, pivot, q, &amp;joints,</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                            &amp;gids, &amp;nodes);</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;      }</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">updateDynamicNodes</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    }</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;</div><div class="line"><a name="l01120"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a40e1764550dddd2e32a5b47fd11bdde1"> 1120</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a40e1764550dddd2e32a5b47fd11bdde1">NodeManager::positionNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> pos,</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> excludeJointId) {</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      std::vector&lt;int&gt; gids;</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">if</span>(iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <a class="code" href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a>(<span class="stringliteral">&quot;NodeManager::rotateNode: node id not found!&quot;</span>);</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;      }</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *editedNode = iter-&gt;second;</div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> offset = pos - editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">getPosition</a>();</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1a936614514034d665b8f8a8b0bbae7d">setPosition</a>(pos, <span class="keyword">true</span>);</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      std::vector&lt;SimJoint*&gt; joints = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;      std::vector&lt;SimJoint*&gt;::iterator jter;</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">for</span>(jter=joints.begin(); jter!=joints.end(); ++jter) {</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <span class="keywordflow">if</span>((*jter)-&gt;getIndex() == excludeJointId) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          joints.erase(jter);</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      }</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;      <span class="keywordflow">if</span>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>())</div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        gids.push_back(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>());</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> nodes = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;      nodes.erase(nodes.find(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()));</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa95082469f40b225f2e9fb06fb824e67">moveNodeRecursive</a>(<span class="keywordtype">id</span>, offset, &amp;joints, &amp;gids, &amp;nodes);</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">updateDynamicNodes</a>(0, <span class="keyword">false</span>);</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;    }</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div><div class="line"><a name="l01155"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#acecbb6dc390c521e1929357b4d611c64"> 1155</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#acecbb6dc390c521e1929357b4d611c64">NodeManager::rotateNodeRecursive</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>,</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;rotation_point,</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                                          <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;rotation,</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                                          std::vector&lt;SimJoint*&gt; *joints,</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                                          std::vector&lt;int&gt; *gids,</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                                          <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes) {</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      <a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html">RotationParams</a> params;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;      params.<a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#adc2e10ed9971fc0dd56eefc541caf08c">rotation_point</a> = rotation_point;</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;      params.<a class="code" href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#abccce9f4938030f30e3f722e733f5c80">rotation</a> = rotation;</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">recursiveHelper</a>(<span class="keywordtype">id</span>, &amp;params, joints, gids, nodes, &amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4243edc8e1c063030f6a7b4532de1abd">applyRotation</a>);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    }</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div><div class="line"><a name="l01167"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af3500ff66203cf73b4eba773c04daa60"> 1167</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af3500ff66203cf73b4eba773c04daa60">NodeManager::clearRelativePosition</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad09d9259a40534ef23ffeb08106db42a">lock</a>) {</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">if</span>(lock) <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++) {</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <span class="keywordflow">if</span>(iter-&gt;second-&gt;getSNode().relative_id == id) {</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;          iter-&gt;second-&gt;clearRelativePosition();</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        }</div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      }</div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;      <span class="keywordflow">if</span>(lock) <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    }</div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;</div><div class="line"><a name="l01182"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5b5703455773cf54ec8d5d5d0d4bdaa2"> 1182</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5b5703455773cf54ec8d5d5d0d4bdaa2">NodeManager::reloadNodes</a>(<span class="keywordtype">bool</span> reloadGrahpics) {</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;      std::list&lt;NodeData&gt;::iterator iter;</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> tmp;</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>* friction;</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end(); iter++) {</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        tmp = *iter;</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        <span class="keywordflow">if</span>(tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">c_params</a>.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>) {</div><div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;          friction = <span class="keyword">new</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0.0, 0.0, 0.0);</div><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;          *friction = *(tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">c_params</a>.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>);</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;          tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">c_params</a>.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a> = friction;</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        }</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;        <span class="keywordflow">if</span>(tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>) {</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;          tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a> = <span class="keyword">new</span>(<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">terrainStruct</a>);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;          *(tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>) = *(iter-&gt;terrain);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;          tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">pixelData</a> = (<span class="keywordtype">double</span>*)calloc((tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#afd7c7eebf3a8233896ec6e2488e9a5fe">width</a>*</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                                                     tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ae348571914e98321c8416c51607e82ac">height</a>),</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                                    <span class="keyword">sizeof</span>(double));</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;          memcpy(tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">pixelData</a>, iter-&gt;terrain-&gt;pixelData,</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                 (tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#afd7c7eebf3a8233896ec6e2488e9a5fe">width</a>*tmp.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">terrain</a>-&gt;<a class="code" href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ae348571914e98321c8416c51607e82ac">height</a>)*<span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">addNode</a>(&amp;tmp, <span class="keyword">true</span>, reloadGrahpics);</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;      }</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">updateDynamicNodes</a>(0);</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;    }</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div><div class="line"><a name="l01212"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36"> 1212</a></span>&#160;    std::list&lt;NodeData&gt;::iterator <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">NodeManager::getReloadNode</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      std::list&lt;NodeData&gt;::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.begin();</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordflow">for</span>(;iter!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end(); ++iter) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        <span class="keywordflow">if</span>(iter-&gt;index == <span class="keywordtype">id</span>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      }</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">return</span> iter;</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div><div class="line"><a name="l01223"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad5e07ea68334acb48112767d470b58b0"> 1223</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad5e07ea68334acb48112767d470b58b0">NodeManager::setReloadExtent</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;ext) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> x(0.0,0.0,0.0);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      std::list&lt;NodeData&gt;::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">getReloadNode</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end()) {</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        <span class="keywordflow">if</span>(iter-&gt;filename != <span class="stringliteral">&quot;PRIMITIVE&quot;</span>) {</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;          x.x() = ext.x() / iter-&gt;ext.x();</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;          x.y() = ext.y() / iter-&gt;ext.y();</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          x.z() = ext.z() / iter-&gt;ext.z();</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        }</div><div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;        iter-&gt;ext = ext;</div><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;      }</div><div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;      <span class="keywordflow">return</span> x;</div><div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div><div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div><div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div><div class="line"><a name="l01239"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72d71176ddb461b35a98b12ad7556d1c"> 1239</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72d71176ddb461b35a98b12ad7556d1c">NodeManager::setReloadFriction</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> friction1,</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                                        <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> friction2) {</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;      std::list&lt;NodeData&gt;::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">getReloadNode</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end()) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;        iter-&gt;c_params.friction1 = friction1;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        iter-&gt;c_params.friction2 = friction2;</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      }</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div><div class="line"><a name="l01254"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a6acf3e04ca37e0b0d065ff0f67fe0daa"> 1254</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a6acf3e04ca37e0b0d065ff0f67fe0daa">NodeManager::setReloadPosition</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;pos) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      std::list&lt;NodeData&gt;::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">getReloadNode</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end()) {</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        iter-&gt;pos = pos;</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;      }</div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    }</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;</div><div class="line"><a name="l01266"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042"> 1266</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">NodeManager::updateDynamicNodes</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> calc_ms, <span class="keywordtype">bool</span> physics_thread) {</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end(); iter++) {</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        iter-&gt;second-&gt;update(calc_ms, physics_thread);</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      }</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;</div><div class="line"><a name="l01274"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0a91a51bc032b9962b9e9494ce1c165b"> 1274</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0a91a51bc032b9962b9e9494ce1c165b">NodeManager::preGraphicsUpdate</a>() {</div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      <span class="keywordflow">if</span>(!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>)</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a>) {</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">update_all_nodes</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;        <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++) {</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                                              iter-&gt;second-&gt;getVisualPosition());</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                                              iter-&gt;second-&gt;getVisualRotation());</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;                                              iter-&gt;second-&gt;getPosition());</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;                                              iter-&gt;second-&gt;getRotation());</div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        }</div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;      }</div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end(); iter++) {</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;                                              iter-&gt;second-&gt;getVisualPosition());</div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                              iter-&gt;second-&gt;getVisualRotation());</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;                                              iter-&gt;second-&gt;getPosition());</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                              iter-&gt;second-&gt;getRotation());</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        }</div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.end(); iter++) {</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                                              iter-&gt;second-&gt;getVisualPosition());</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID(),</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                                              iter-&gt;second-&gt;getVisualRotation());</div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">setDrawObjectPos</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;                                              iter-&gt;second-&gt;getPosition());</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">setDrawObjectRot</a>(iter-&gt;second-&gt;getGraphicsID2(),</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                                              iter-&gt;second-&gt;getRotation());</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.clear();</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;      }</div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    }</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div><div class="line"><a name="l01322"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a930aa342964a145e7e011251cc1333ad"> 1322</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a930aa342964a145e7e011251cc1333ad">NodeManager::clearAllNodes</a>(<span class="keywordtype">bool</span> clear_all, <span class="keywordtype">bool</span> clearGraphics) {</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      <span class="keywordflow">while</span> (!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.empty())</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">removeNode</a>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin()-&gt;first, <span class="keyword">false</span>, clearGraphics);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;      <span class="keywordflow">while</span> (!<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.empty())</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">removeNode</a>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.begin()-&gt;first, <span class="keyword">false</span>, clearGraphics);</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.clear();</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">vizNodes</a>.clear();</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.clear();</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;      <span class="keywordflow">if</span>(clear_all) <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.clear();</div><div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08cf1a2799a9486cfc53fc727e29e63e">next_node_id</a> = 1;</div><div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    }</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div><div class="line"><a name="l01340"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18fab1995acfc3bb531e0fa6f1247665"> 1340</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18fab1995acfc3bb531e0fa6f1247665">NodeManager::setReloadAngle</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d9/d73/structmars_1_1utils_1_1s_rotation.html">sRotation</a> &amp;angle) {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4e86a0b0a607f700fb56d6be663de6d4">setReloadQuaternion</a>(<span class="keywordtype">id</span>, <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aff95930b4b9c6c37e33ee4388882cee1">eulerToQuaternion</a>(angle));</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;</div><div class="line"><a name="l01348"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4e86a0b0a607f700fb56d6be663de6d4"> 1348</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4e86a0b0a607f700fb56d6be663de6d4">NodeManager::setReloadQuaternion</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;q) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      std::list&lt;NodeData&gt;::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">getReloadNode</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end()) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;        iter-&gt;rot = q;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;      }</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    }</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;</div><div class="line"><a name="l01359"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9ce891dbe2ec224e671f1b04659e7cf"> 1359</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9ce891dbe2ec224e671f1b04659e7cf">NodeManager::setContactParams</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html">contact_params</a> &amp;cp) {</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        iter-&gt;second-&gt;setContactParams(cp);</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    }</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div><div class="line"><a name="l01367"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a83aa6eacd61d104bfcd84ad019b7e1b3"> 1367</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a83aa6eacd61d104bfcd84ad019b7e1b3">NodeManager::setVelocity</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>&amp; vel) {</div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end())</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        iter-&gt;second-&gt;setLinearVelocity(vel);</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    }</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;</div><div class="line"><a name="l01375"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee9ec3091cb25473322d333be0108fe2"> 1375</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee9ec3091cb25473322d333be0108fe2">NodeManager::setAngularVelocity</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>&amp; vel) {</div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">simNodesDyn</a>.end())</div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;        iter-&gt;second-&gt;setAngularVelocity(vel);</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div><div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div><div class="line"><a name="l01386"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18488c697d7373d6901d4ee5c327b712"> 1386</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18488c697d7373d6901d4ee5c327b712">NodeManager::scaleReloadNodes</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> factor_x, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> factor_y,</div><div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;                                       <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> factor_z) {</div><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;      std::list&lt;NodeData&gt;::iterator iter;</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">simNodesReload</a>.end(); iter++) {</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        iter-&gt;pos.x() *= factor_x;</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        iter-&gt;pos.y() *= factor_y;</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        iter-&gt;pos.z() *= factor_z;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        iter-&gt;ext.x() *= factor_x;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        iter-&gt;ext.y() *= factor_y;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        iter-&gt;ext.z() *= factor_z;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        iter-&gt;visual_offset_pos.x() *= factor_x;</div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;        iter-&gt;visual_offset_pos.y() *= factor_y;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;        iter-&gt;visual_offset_pos.z() *= factor_z;</div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        iter-&gt;visual_size.x() *= factor_x;</div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        iter-&gt;visual_size.y() *= factor_y;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        iter-&gt;visual_size.z() *= factor_z;</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      }</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;</div><div class="line"><a name="l01409"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8bd62963cb6e19fb6b3bc01f3d052455"> 1409</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8bd62963cb6e19fb6b3bc01f3d052455">NodeManager::getNodeMass</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> *mass,</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;                                  <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a>* inertia)<span class="keyword"> const </span>{</div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        iter-&gt;second-&gt;getMass(mass, inertia);</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    }</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div><div class="line"><a name="l01418"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1f35303baf13150f5b7da53b6349034a"> 1418</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1f35303baf13150f5b7da53b6349034a">NodeManager::setAngularDamping</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">sReal</a> damping) {</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        iter-&gt;second-&gt;setAngularDamping(damping);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    }</div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;</div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div><div class="line"><a name="l01426"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af396cfd720b5fa18be490830bab12c6d"> 1426</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af396cfd720b5fa18be490830bab12c6d">NodeManager::addRotation</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;q) {</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        iter-&gt;second-&gt;addRotation(q);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    }</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;</div><div class="line"><a name="l01434"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a11990a170c98b9e42baa7ca9d787d575"> 1434</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html">contact_params</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a11990a170c98b9e42baa7ca9d787d575">NodeManager::getContactParams</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;getContactParams();</div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;      <a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html">contact_params</a> <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a>;</div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a>;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    }</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;</div><div class="line"><a name="l01446"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aece203c66a480ffeb18f44cf81a0b453"> 1446</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aece203c66a480ffeb18f44cf81a0b453">NodeManager::exportGraphicNodesByID</a>(<span class="keyword">const</span> std::string &amp;folder)<span class="keyword"> const </span>{</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;        <span class="keywordtype">char</span> text[255];</div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        std::string filename;</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;</div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        NodeMap::const_iterator iter;</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;        <span class="keywordflow">for</span>(iter=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); ++iter) {</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;          sprintf(text, <span class="stringliteral">&quot;/%lu.stl&quot;</span>, iter-&gt;first);</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;          filename = folder+std::string(text);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#adb96972c7c5db4c3b2739f416853eb7f">exportDrawObject</a>(iter-&gt;second-&gt;getGraphicsID(), filename);</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;          sprintf(text, <span class="stringliteral">&quot;/%lu.obj&quot;</span>, iter-&gt;first);</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;          filename = folder+std::string(text);</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#adb96972c7c5db4c3b2739f416853eb7f">exportDrawObject</a>(iter-&gt;second-&gt;getGraphicsID(), filename);</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        }</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      }</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    }</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div><div class="line"><a name="l01465"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5241e0f11e578abae75a109b21b60e29"> 1465</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5241e0f11e578abae75a109b21b60e29">NodeManager::getContactPoints</a>(std::vector&lt;NodeId&gt; *<a class="code" href="../../db/d24/tsort_8c.html#a51edfd33a41382379ccfa90c5c324a2a">ids</a>,</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;                                       std::vector&lt;Vector&gt; *contact_points)<span class="keyword"> const </span>{</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;      NodeMap::const_iterator iter;</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;      std::vector&lt;Vector&gt;::const_iterator lter;</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;      std::vector&lt;Vector&gt; points;</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;      <span class="keywordflow">for</span>(iter=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); ++iter) {</div><div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        iter-&gt;second-&gt;getContactPoints(&amp;points);</div><div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;        <span class="keywordflow">for</span>(lter=points.begin(); lter!=points.end(); ++lter) {</div><div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;          ids-&gt;push_back(iter-&gt;first);</div><div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;          contact_points-&gt;push_back((*lter));</div><div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        }</div><div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;      }</div><div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    }</div><div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;</div><div class="line"><a name="l01482"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ea3eb2b2e1c91d3ea37d22f13ab1d9e"> 1482</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ea3eb2b2e1c91d3ea37d22f13ab1d9e">NodeManager::getContactIDs</a>(<span class="keyword">const</span> <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">interfaces::NodeId</a> &amp;<span class="keywordtype">id</span>,</div><div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;                                    std::list&lt;interfaces::NodeId&gt; *<a class="code" href="../../db/d24/tsort_8c.html#a51edfd33a41382379ccfa90c5c324a2a">ids</a>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;        iter-&gt;second-&gt;getContactIDs(ids);</div><div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      }</div><div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    }</div><div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;</div><div class="line"><a name="l01491"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a23b48e0750e425d97f1eef44253210e6"> 1491</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a23b48e0750e425d97f1eef44253210e6">NodeManager::updateRay</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        iter-&gt;second-&gt;updateRay();</div><div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;    }</div><div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;</div><div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div><div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;</div><div class="line"><a name="l01500"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9897b3b6d33bf5a51b6597ad67e1a14c"> 1500</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9897b3b6d33bf5a51b6597ad67e1a14c">NodeManager::getDrawID</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;getGraphicsID();</div><div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div><div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div><div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;</div><div class="line"><a name="l01510"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a57bb4c5c1da2bba707ed6fe3fec2b195"> 1510</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a57bb4c5c1da2bba707ed6fe3fec2b195">NodeManager::getContactForce</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;getContactForce();</div><div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0.0, 0.0, 0.0);</div><div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    }</div><div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;</div><div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;</div><div class="line"><a name="l01520"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18d5801f213bcae8e90588154c63e67f"> 1520</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18d5801f213bcae8e90588154c63e67f">NodeManager::getCollisionDepth</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;getCollisionDepth();</div><div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordflow">return</span> 0.0;</div><div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    }</div><div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;</div><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;</div><div class="line"><a name="l01530"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6c95bc211b1f865080c8004095aa50a"> 1530</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6c95bc211b1f865080c8004095aa50a">NodeManager::setVisualRep</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">int</span> val) {</div><div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;      <span class="keywordflow">if</span>(!(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>))</div><div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0aa155509d8988ba133995009d190dd4">visual_rep</a> = val;</div><div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;      <span class="keywordtype">int</span> current;</div><div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;</div><div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++) {</div><div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;        <span class="keywordflow">if</span>(<span class="keywordtype">id</span> == 0 || iter-&gt;first == <span class="keywordtype">id</span>) {</div><div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;          current = iter-&gt;second-&gt;getVisualRep();</div><div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;          <span class="keywordflow">if</span>(val &amp; 1 &amp;&amp; !(current &amp; 1))</div><div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a2f904606ed56c5ce91efd7ee363d54a5">setDrawObjectShow</a>(iter-&gt;second-&gt;getGraphicsID(), <span class="keyword">true</span>);</div><div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!(val &amp; 1) &amp;&amp; current &amp; 1)</div><div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a2f904606ed56c5ce91efd7ee363d54a5">setDrawObjectShow</a>(iter-&gt;second-&gt;getGraphicsID(), <span class="keyword">false</span>);</div><div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;          <span class="keywordflow">if</span>(val &amp; 2 &amp;&amp; !(current &amp; 2))</div><div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a2f904606ed56c5ce91efd7ee363d54a5">setDrawObjectShow</a>(iter-&gt;second-&gt;getGraphicsID2(), <span class="keyword">true</span>);</div><div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(!(val &amp; 2) &amp;&amp; current &amp; 2)</div><div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a2f904606ed56c5ce91efd7ee363d54a5">setDrawObjectShow</a>(iter-&gt;second-&gt;getGraphicsID2(), <span class="keyword">false</span>);</div><div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;</div><div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;          iter-&gt;second-&gt;setVisualRep(val);</div><div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;          <span class="keywordflow">if</span>(<span class="keywordtype">id</span> != 0) <span class="keywordflow">break</span>;</div><div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;        }</div><div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;      }</div><div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    }</div><div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;</div><div class="line"><a name="l01557"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079"> 1557</a></span>&#160;    <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079">NodeManager::getID</a>(<span class="keyword">const</span> std::string&amp; node_name)<span class="keyword"> const </span>{</div><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;</div><div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      NodeMap::const_iterator iter;</div><div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;      <span class="keywordflow">for</span>(iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++) {</div><div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        <span class="keywordflow">if</span> (iter-&gt;second-&gt;getName() == node_name)  {</div><div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;          <span class="keywordflow">return</span> iter-&gt;first;</div><div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;        }</div><div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;      }</div><div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a>;</div><div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;    }</div><div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;</div><div class="line"><a name="l01571"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad009adad6930e66576e6c22a8b634e5f"> 1571</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad009adad6930e66576e6c22a8b634e5f">NodeManager::pushToUpdate</a>(<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* node) {</div><div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.find(node-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>());</div><div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;      <span class="keywordflow">if</span> (iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>.end())</div><div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>[node-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()] = node;</div><div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;    }</div><div class="line"><a name="l01577"></a><span class="lineno"> 1577</span>&#160;</div><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;</div><div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;</div><div class="line"><a name="l01580"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a81f02feb1b3ed2c86fb65ef73c4f4296"> 1580</a></span>&#160;    std::vector&lt;NodeId&gt; <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a81f02feb1b3ed2c86fb65ef73c4f4296">NodeManager::getConnectedNodes</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>) {</div><div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;      std::vector&lt;NodeId&gt; connected;</div><div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;      <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;      <span class="keywordflow">if</span> (iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="keywordflow">return</span> connected;</div><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div><div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* current = iter-&gt;second;</div><div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;      std::vector&lt;SimJoint*&gt; simJoints = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">getSimJoints</a>();</div><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;</div><div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;      <span class="keywordflow">if</span> (current-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>() != 0)</div><div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;        <span class="keywordflow">for</span> (iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); iter++)</div><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;          <span class="keywordflow">if</span> (iter-&gt;second-&gt;getGroupID() == current-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">getGroupID</a>())</div><div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;            connected.push_back(iter-&gt;first);</div><div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div><div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; simJoints.size(); i++) {</div><div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;        <span class="keywordflow">if</span> (simJoints[i]-&gt;getAttachedNode() &amp;&amp;</div><div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;            simJoints[i]-&gt;getAttachedNode()-&gt;getID() == <span class="keywordtype">id</span> &amp;&amp;</div><div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;            simJoints[i]-&gt;getAttachedNode(2)) {</div><div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;          connected.push_back(simJoints[i]-&gt;getAttachedNode(2)-&gt;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079">getID</a>());</div><div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;          <span class="comment">/*    current = simNodes.find(connected.back())-&gt;second;</span></div><div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;<span class="comment">                if (current-&gt;getGroupID() != 0)</span></div><div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;<span class="comment">                for (iter = simNodes.begin(); iter != simNodes.end(); iter++)</span></div><div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;<span class="comment">                if (iter-&gt;second-&gt;getGroupID() == current-&gt;getGroupID())</span></div><div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;<span class="comment">                connected.push_back(iter-&gt;first);*/</span></div><div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;        }</div><div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div><div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;        <span class="keywordflow">if</span> (simJoints[i]-&gt;getAttachedNode(2) &amp;&amp;</div><div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;            simJoints[i]-&gt;getAttachedNode(2)-&gt;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079">getID</a>() == <span class="keywordtype">id</span> &amp;&amp;</div><div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;            simJoints[i]-&gt;getAttachedNode()) {</div><div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;          connected.push_back(simJoints[i]-&gt;getAttachedNode()-&gt;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079">getID</a>());</div><div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;          <span class="comment">/*      current = simNodes.find(connected.back())-&gt;second;</span></div><div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;<span class="comment">                  if (current-&gt;getGroupID() != 0)</span></div><div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;<span class="comment">                  for (iter = simNodes.begin(); iter != simNodes.end(); iter++)</span></div><div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;<span class="comment">                  if (iter-&gt;second-&gt;getGroupID() == current-&gt;getGroupID())</span></div><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;<span class="comment">                  connected.push_back(iter-&gt;first);*/</span></div><div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;        }</div><div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;      }</div><div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;</div><div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;      <span class="keywordflow">return</span> connected;</div><div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;</div><div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    }</div><div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div><div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;</div><div class="line"><a name="l01624"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aedd762f52a9888f6ec6e023d1ec073d2"> 1624</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aedd762f52a9888f6ec6e023d1ec073d2">NodeManager::getDataBrokerNames</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, std::string *groupName,</div><div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;                                         std::string *dataName)<span class="keyword"> const </span>{</div><div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;      <span class="comment">//LOG_DEBUG(&quot;We have currently %i elements\n&quot;,(int)simNodes.size());</span></div><div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;      <span class="keywordflow">if</span> (iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;      iter-&gt;second-&gt;getDataBrokerNames(groupName, dataName);</div><div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    }</div><div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div><div class="line"><a name="l01634"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ada3e5d587a9bb754281df4c965d59310"> 1634</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ada3e5d587a9bb754281df4c965d59310">NodeManager::setVisualQOffset</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;q) {</div><div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;        iter-&gt;second-&gt;setVisQOffset(q);</div><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;    }</div><div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;</div><div class="line"><a name="l01640"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adabf20d2edcebb16c08a6ddf80b79524"> 1640</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adabf20d2edcebb16c08a6ddf80b79524">NodeManager::updatePR</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;pos,</div><div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                               <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;rot,</div><div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                               <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> &amp;visOffsetPos,</div><div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                               <span class="keyword">const</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> &amp;visOffsetRot,</div><div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                               <span class="keywordtype">bool</span> doLock) {</div><div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;</div><div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;      <span class="keywordflow">if</span> (iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) {</div><div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        iter-&gt;second-&gt;updatePR(pos, rot, visOffsetPos, visOffsetRot);</div><div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;        <span class="keywordflow">if</span>(doLock) <a class="code" href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">MutexLocker</a> locker(&amp;<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>);</div><div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">nodesToUpdate</a>[id] = iter-&gt;second;</div><div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;      }</div><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;    }</div><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;</div><div class="line"><a name="l01654"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a29fb5d965f02d3f02dc9662d7ec30183"> 1654</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a29fb5d965f02d3f02dc9662d7ec30183">NodeManager::getIsMovable</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{</div><div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;      NodeMap::const_iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;      <span class="keywordflow">if</span>(iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;        <span class="keywordflow">return</span> iter-&gt;second-&gt;isMovable();</div><div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;    }</div><div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;</div><div class="line"><a name="l01661"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aaef734ebc90523eea5de998aac4a89da"> 1661</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aaef734ebc90523eea5de998aac4a89da">NodeManager::setIsMovable</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keywordtype">bool</span> isMovable) {</div><div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;      NodeMap::iterator iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;      <span class="keywordflow">if</span>(iter != <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end())</div><div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;        iter-&gt;second-&gt;setMovable(isMovable);</div><div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    }</div><div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;</div><div class="line"><a name="l01667"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597"> 1667</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597">NodeManager::moveRelativeNodes</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> &amp;node, <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes,</div><div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;                                        <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> v) {</div><div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* nextNode;</div><div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;</div><div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;      <span class="comment">// TODO: doesn&#39;t this function need locking? no</span></div><div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;      <span class="keywordflow">for</span> (iter = nodes-&gt;begin(); iter != nodes-&gt;end(); iter++) {</div><div class="line"><a name="l01674"></a><span class="lineno"> 1674</span>&#160;        <span class="keywordflow">if</span> (iter-&gt;second-&gt;getParentID() == node.<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()) {</div><div class="line"><a name="l01675"></a><span class="lineno"> 1675</span>&#160;          nextNode = iter-&gt;second;</div><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;          <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> newPos = nextNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">getPosition</a>() + v;</div><div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;          nextNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1a936614514034d665b8f8a8b0bbae7d">setPosition</a>(newPos, <span class="keyword">false</span>);</div><div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;          nodes-&gt;erase(iter);</div><div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597">moveRelativeNodes</a>(node, nodes, v);</div><div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597">moveRelativeNodes</a>(*nextNode, nodes, v);</div><div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;        }</div><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;      }</div><div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    }</div><div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div><div class="line"><a name="l01686"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd"> 1686</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd">NodeManager::rotateRelativeNodes</a>(<span class="keyword">const</span> <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> &amp;node, <a class="code" href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">NodeMap</a> *nodes,</div><div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;                                          <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> pivot, <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">Quaternion</a> rot) {</div><div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;      <a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a>* nextNode;</div><div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;</div><div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;      <span class="comment">// TODO: doesn&#39;t this function need locking? no</span></div><div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;      <span class="keywordflow">for</span> (iter = nodes-&gt;begin(); iter != nodes-&gt;end(); iter++) {</div><div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        <span class="keywordflow">if</span> (iter-&gt;second-&gt;getParentID() == node.<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">getID</a>()) {</div><div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;          nextNode = iter-&gt;second;</div><div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;          nextNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ab2e43bb6398eebafaf8af0f0df92fba2">rotateAtPoint</a>(pivot, rot, <span class="keyword">false</span>);</div><div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;          nodes-&gt;erase(iter);</div><div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd">rotateRelativeNodes</a>(node, nodes, pivot, rot);</div><div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;          <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd">rotateRelativeNodes</a>(*nextNode, nodes, pivot, rot);</div><div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;        }</div><div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;      }</div><div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;    }</div><div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;</div><div class="line"><a name="l01704"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3dea02dda3765bea19926c0af98f8baf"> 1704</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3dea02dda3765bea19926c0af98f8baf">NodeManager::printNodeMasses</a>(<span class="keywordtype">bool</span> onlysum) {</div><div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;      NodeMap::iterator it;</div><div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;      <span class="keywordtype">double</span> masssum = 0;</div><div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;      <span class="keywordflow">for</span>(it=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.begin(); it!=<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end(); ++it) {</div><div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="keywordflow">if</span> (!onlysum)</div><div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;          fprintf(stderr, <span class="stringliteral">&quot;%s: %f\n&quot;</span>, it-&gt;second-&gt;getName().c_str(), it-&gt;second-&gt;getMass());</div><div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        masssum+=it-&gt;second-&gt;getMass();</div><div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;      }</div><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;Sum of masses of imported model: %f\n&quot;</span>, masssum);</div><div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;    }</div><div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;</div><div class="line"><a name="l01715"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adcae194e8d7d01d3c4a1c4e943dfe1fe"> 1715</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adcae194e8d7d01d3c4a1c4e943dfe1fe">NodeManager::edit</a>(<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">NodeId</a> <span class="keywordtype">id</span>, <span class="keyword">const</span> std::string &amp;key,</div><div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;                           <span class="keyword">const</span> std::string &amp;value) {</div><div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">lock</a>();</div><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;      NodeMap::iterator iter;</div><div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;      <span class="comment">// todo: cfdir1 is a vector</span></div><div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;      iter = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.find(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;      <span class="keywordflow">if</span>(iter == <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>.end()) <span class="keywordflow">return</span>;</div><div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> nd = iter-&gt;second-&gt;getSNode();</div><div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/position&quot;</span>, key)) {</div><div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;        <span class="keywordtype">double</span> v = atof(value.c_str());</div><div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;x&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>.x() = v;</div><div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;y&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>.y() = v;</div><div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;z&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">pos</a>.z() = v;</div><div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#aa14900b3570877791ef1b144dd3c74ac">nodes</a>-&gt;<a class="code" href="../../d7/d4c/classmars_1_1interfaces_1_1_node_manager_interface.html#a9e8be91e67e05db6b67160905b269a1f">editNode</a>(&amp;nd, (<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a98440837db65a38e580e13d00af5a889">EDIT_NODE_POS</a> | <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340">EDIT_NODE_MOVE_ALL</a>));</div><div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;      }</div><div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/rotation&quot;</span>, key)) {</div><div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordtype">double</span> v = atof(value.c_str());</div><div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <a class="code" href="../../d9/d73/structmars_1_1utils_1_1s_rotation.html">sRotation</a> <a class="code" href="../../db/d77/_camera_sensor_8h.html#a823989153673424baacf5f55e996e2bd">r</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aac688a4092545b0ba95339c1fae2c847">quaternionTosRotation</a>(nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>);</div><div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        <span class="keywordtype">bool</span> setEuler = <span class="keyword">false</span>;</div><div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <span class="keywordflow">if</span>(key.find(<span class="stringliteral">&quot;alpha&quot;</span>) != string::npos) r.alpha = v, setEuler = <span class="keyword">true</span>;</div><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key.find(<span class="stringliteral">&quot;beta&quot;</span>) != string::npos) r.beta = v, setEuler = <span class="keyword">true</span>;</div><div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key.find(<span class="stringliteral">&quot;gamma&quot;</span>) != string::npos) r.gamma = v, setEuler = <span class="keyword">true</span>;</div><div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;x&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>.x() = v;</div><div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;y&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>.y() = v;</div><div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;z&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>.z() = v;</div><div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;w&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a>.w() = v;</div><div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        <span class="keywordflow">if</span>(setEuler) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">rot</a> = <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#aff95930b4b9c6c37e33ee4388882cee1">eulerToQuaternion</a>(r);</div><div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#aa14900b3570877791ef1b144dd3c74ac">nodes</a>-&gt;<a class="code" href="../../d7/d4c/classmars_1_1interfaces_1_1_node_manager_interface.html#a9e8be91e67e05db6b67160905b269a1f">editNode</a>(&amp;nd, (<a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a3f1913e5b7787f94e20b12de5dd8bd2f">EDIT_NODE_ROT</a> | <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340">EDIT_NODE_MOVE_ALL</a>));</div><div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;      }</div><div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/extend/*&quot;</span>, key)) {</div><div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="keywordtype">double</span> v = atof(value.c_str());</div><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;x&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>.x() = v;</div><div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;y&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>.y() = v;</div><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;z&#39;</span>) nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>.z() = v;</div><div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;      }</div><div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/material&quot;</span>, key)) {</div><div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;          std::vector&lt;interfaces::MaterialData&gt; mList;</div><div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;          std::vector&lt;interfaces::MaterialData&gt;::iterator it;</div><div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;          mList = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aa8b1a942d3160ed335bf3e1a5e0a9f44">getMaterialList</a>();</div><div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;          <span class="keywordflow">for</span>(it=mList.begin(); it!=mList.end(); ++it) {</div><div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            <span class="keywordflow">if</span>(it-&gt;name == value) {</div><div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;              <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> drawID = <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9897b3b6d33bf5a51b6597ad67e1a14c">getDrawID</a>(<span class="keywordtype">id</span>);</div><div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;              <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a143d558b95ae35ea4ea84688201a64e8">setDrawObjectMaterial</a>(drawID, *it);</div><div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;              iter-&gt;second-&gt;setMaterialName(it-&gt;name);</div><div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;              <span class="keywordflow">break</span>;</div><div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;            }</div><div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;          }</div><div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;        }</div><div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;      }</div><div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cullMask&quot;</span>, key)) {</div><div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;        <span class="keywordtype">int</span> v = atoi(value.c_str());</div><div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;        iter-&gt;second-&gt;setCullMask(v);</div><div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;      }</div><div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/c*&quot;</span>, key)) {</div><div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;        <a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html">contact_params</a> c = iter-&gt;second-&gt;getContactParams();</div><div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cmax_num_contacts&quot;</span>, key)) {</div><div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;          c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a8d25f27e94d761811ddb580c9ec73dd5">max_num_contacts</a> = atoi(value.c_str());;</div><div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;        }</div><div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cerp&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a4e25d39f625e5084dd15514276b5c8ad">erp</a> = atof(value.c_str());</div><div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/ccfm&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#aa2bb13d0f7d3c9bf09a331e9d6f43132">cfm</a> = atof(value.c_str());</div><div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cfriction1&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#adfc8975d53659228c171b3d8e01b6f5b">friction1</a> = atof(value.c_str());</div><div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cfriction2&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af005ca94e424b73c50979d3f751d1e62">friction2</a> = atof(value.c_str());</div><div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cmotion1&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af2cf867a52dbeb9698fde39915aa8db7">motion1</a> = atof(value.c_str());</div><div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cmotion2&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a598091a1aab731c26f3b7b5c66e52ea9">motion2</a> = atof(value.c_str());</div><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cfds1&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#ae1c38f5c631f7d7d54538b79929ca0b3">fds1</a> = atof(value.c_str());</div><div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cfds2&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af0b9e8a1a3bfbffeabbe99c6833de495">fds2</a> = atof(value.c_str());</div><div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cbounce&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a569fceee8843ff3ace21cbedf6e4998a">bounce</a> = atof(value.c_str());</div><div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cbounce_vel&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a791306187a508a86ef1f25932350b27a">bounce_vel</a> = atof(value.c_str());</div><div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/capprox&quot;</span>, key)) {</div><div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;          <span class="keywordflow">if</span>(value == <span class="stringliteral">&quot;true&quot;</span> || value == <span class="stringliteral">&quot;True&quot;</span>) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af3eac0c8d15c4ce174ddda37d7e60215">approx_pyramid</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;          <span class="keywordflow">else</span> c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af3eac0c8d15c4ce174ddda37d7e60215">approx_pyramid</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;        }</div><div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/coll_bitmask&quot;</span>, key)) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#afc82b67ce848cb109db43a73626f300d">coll_bitmask</a> = atoi(value.c_str());</div><div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/cfdir1*&quot;</span>, key)) {</div><div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;          <span class="keywordtype">double</span> v = atof(value.c_str());</div><div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;          <span class="keywordflow">if</span>(!c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a> = <span class="keyword">new</span> <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a>(0,0,0);</div><div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;          <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;x&#39;</span>) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>-&gt;x() = v;</div><div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;y&#39;</span>) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>-&gt;y() = v;</div><div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span>(key[key.size()-1] == <span class="charliteral">&#39;z&#39;</span>) c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>-&gt;z() = v;</div><div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;          <span class="keywordflow">if</span>(c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>-&gt;norm() &lt; 0.00000001) {</div><div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <span class="keyword">delete</span> c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a>;</div><div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            c.<a class="code" href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">friction_direction1</a> = 0;</div><div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;          }</div><div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;        }</div><div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;        iter-&gt;second-&gt;setContactParams(c);</div><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;      }</div><div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/brightness&quot;</span>, key)) {</div><div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;        <span class="keywordtype">double</span> v = atof(value.c_str());</div><div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;        iter-&gt;second-&gt;setBrightness(v);</div><div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;      }</div><div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/name&quot;</span>, key)) {</div><div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a821f6d2087c9e680d357462deffecdbb">name</a> = value;</div><div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;      }</div><div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/mass&quot;</span>, key)) {</div><div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a8f9d3a2e9aafc73e7a298111a680fa59">mass</a> = atof(value.c_str());</div><div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;      }</div><div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/density&quot;</span>, key)) {</div><div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a670eb8431b16673fd219e766cd66530d">density</a> = atof(value.c_str());</div><div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;      }</div><div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/movable&quot;</span>, key)) {</div><div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;        <a class="code" href="../../db/d84/classconfigmaps_1_1_config_map.html">ConfigMap</a> <a class="code" href="../../db/d77/_camera_sensor_8h.html#a7ced1aa9e19df1e9e15ce8edc1bd613a">b</a>;</div><div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;        b[<span class="stringliteral">&quot;bool&quot;</span>] = value;</div><div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">movable</a> = b[<span class="stringliteral">&quot;bool&quot;</span>];</div><div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;      }</div><div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/groupid&quot;</span>, key)) {</div><div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> = atoi(value.c_str());</div><div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">changeNode</a>(iter-&gt;second, &amp;nd);</div><div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;      }</div><div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">matchPattern</a>(<span class="stringliteral">&quot;*/relativeid&quot;</span>, key)) {</div><div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;        nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a> = atoi(value.c_str());</div><div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;        iter-&gt;second-&gt;setRelativeID(nd.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">relative_id</a>);</div><div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      }</div><div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="keywordflow">else</span> {</div><div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;pattern not found: %s %s\n&quot;</span>, key.c_str(),</div><div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;                value.c_str());</div><div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">iMutex</a>.<a class="code" href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">unlock</a>();</div><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;      }</div><div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    }</div><div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;</div><div class="line"><a name="l01867"></a><span class="lineno"><a class="line" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51"> 1867</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">NodeManager::changeNode</a>(<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">SimNode</a> *editedNode, <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> *nodeS) {</div><div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">NodeData</a> sNode = editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a21a7fa4ec1ced6109f16de626f040450">getSNode</a>();</div><div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>) {</div><div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;        <a class="code" href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">Vector</a> scale;</div><div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;        <span class="keywordflow">if</span>(sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a00167d354e201a08d480aa5c34c671a5">filename</a> == <span class="stringliteral">&quot;PRIMITIVE&quot;</span>) {</div><div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;          scale = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>;</div><div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;          <span class="keywordflow">if</span>(sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">physicMode</a> == <a class="code" href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813a8d4866bda3dcb97d7e1b783a08d41254">NODE_TYPE_SPHERE</a>) {</div><div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            scale.x() *= 2;</div><div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            scale.y() = scale.z() = scale.x();</div><div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;          }</div><div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;          <span class="comment">// todo: set scale for cylinder and capsule</span></div><div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;          scale = sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab275d77caeaa6f78fc7e3288e50fcc7f">visual_size</a>-sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>;</div><div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;          scale += nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>;</div><div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;          nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab275d77caeaa6f78fc7e3288e50fcc7f">visual_size</a> = scale;</div><div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        }</div><div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a6109d79e81594ff854c4e1489773f35e">setDrawObjectScale</a>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5fa3877ac50afe824d7f2111ec8afdc2">getGraphicsID</a>(), scale);</div><div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">graphics</a>-&gt;<a class="code" href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a6109d79e81594ff854c4e1489773f35e">setDrawObjectScale</a>(editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a262979f3a28f1680b4761cefb06a4522">getGraphicsID2</a>(), nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">ext</a>);</div><div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;      }</div><div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;      editedNode-&gt;<a class="code" href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af56fd1a3d2f8ccc2482992924531803d">changeNode</a>(nodeS);</div><div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;      <span class="keywordflow">if</span>(sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> != 0 || nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> != 0) {</div><div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;        <span class="keywordflow">for</span>(<span class="keyword">auto</span> it: <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">simNodes</a>) {</div><div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;          <span class="keywordflow">if</span>(it.second-&gt;getGroupID() == sNode.<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> ||</div><div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;             it.second-&gt;getGroupID() == nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a>) {</div><div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(it.second-&gt;getID());</div><div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;          }</div><div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;        }</div><div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;      }</div><div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;      <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">control</a>-&gt;<a class="code" href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">joints</a>-&gt;<a class="code" href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">reattacheJoints</a>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">index</a>);</div><div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;</div><div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;      <span class="keywordflow">if</span>(nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a> &gt; <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cad5bc335fe271e27e28ce385c84c3">maxGroupID</a>) {</div><div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <a class="code" href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cad5bc335fe271e27e28ce385c84c3">maxGroupID</a> = nodeS-&gt;<a class="code" href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">groupID</a>;</div><div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;      }</div><div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;    }</div><div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;</div><div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;  } <span class="comment">// end of namespace sim</span></div><div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;} <span class="comment">// end of namespace mars</span></div><div class="ttc" id="classconfigmaps_1_1_config_map_html"><div class="ttname"><a href="../../db/d84/classconfigmaps_1_1_config_map.html">configmaps::ConfigMap</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d4d/_config_map_8hpp_source.html#l00047">ConfigMap.hpp:47</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a196e8bc75482255dc5a29cb5c2120594"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a196e8bc75482255dc5a29cb5c2120594">mars::interfaces::GraphicsManagerInterface::setDrawObjectPos</a></div><div class="ttdeci">virtual void setDrawObjectPos(unsigned long id, const mars::utils::Vector &amp;pos)=0</div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ab1c680aed13a8e3b018ae1768830190b"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab1c680aed13a8e3b018ae1768830190b">mars::interfaces::NodeData::pos</a></div><div class="ttdeci">utils::Vector pos</div><div class="ttdoc">The position of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00192">NodeData.h:192</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a98440837db65a38e580e13d00af5a889"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a98440837db65a38e580e13d00af5a889">mars::interfaces::EDIT_NODE_POS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00205">MARSDefs.h:205</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a1f329ffc06b69b83c5ca3699ced26824"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a1f329ffc06b69b83c5ca3699ced26824">mars::interfaces::NodeData::initPrimitive</a></div><div class="ttdeci">void initPrimitive(NodeType type, const utils::Vector &amp;extents, sReal mass)</div><div class="ttdoc">initialize the nodestruct for a primitive type </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00123">NodeData.h:123</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_node_interface_html"><div class="ttname"><a href="../../da/d43/classmars_1_1interfaces_1_1_node_interface.html">mars::interfaces::NodeInterface</a></div><div class="ttdoc">Interface class for the physical layer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/ddf/_node_interface_8h_source.html#l00048">NodeInterface.h:48</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html_aa14900b3570877791ef1b144dd3c74ac"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#aa14900b3570877791ef1b144dd3c74ac">mars::interfaces::ControlCenter::nodes</a></div><div class="ttdeci">NodeManagerInterface * nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00098">ControlCenter.h:98</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_afd2c77b9b629cca1acec6c1d0397f2d4"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#afd2c77b9b629cca1acec6c1d0397f2d4">mars::interfaces::NodeData::origName</a></div><div class="ttdeci">std::string origName</div><div class="ttdoc">The original object name; needed for importing objects from files (like wavefront object files)...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00151">NodeData.h:151</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_ac0c6327c5547698606126cb729cb6940"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ac0c6327c5547698606126cb729cb6940">mars::interfaces::terrainStruct::targetWidth</a></div><div class="ttdeci">double targetWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00049">terrainStruct.h:49</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_afc82b67ce848cb109db43a73626f300d"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#afc82b67ce848cb109db43a73626f300d">mars::interfaces::contact_params::coll_bitmask</a></div><div class="ttdeci">int coll_bitmask</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00058">contact_params.h:58</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_base_node_sensor_html"><div class="ttname"><a href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html">mars::interfaces::BaseNodeSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd6/sensor__bases_8h_source.html#l00117">sensor_bases.h:117</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_af3eac0c8d15c4ce174ddda37d7e60215"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af3eac0c8d15c4ce174ddda37d7e60215">mars::interfaces::contact_params::approx_pyramid</a></div><div class="ttdeci">bool approx_pyramid</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00057">contact_params.h:57</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a4e25d39f625e5084dd15514276b5c8ad"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a4e25d39f625e5084dd15514276b5c8ad">mars::interfaces::contact_params::erp</a></div><div class="ttdeci">sReal erp</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00051">contact_params.h:51</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a6c51debc39fb5d9e940799c1c3df7813"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813">mars::interfaces::NodeType</a></div><div class="ttdeci">NodeType</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00060">MARSDefs.h:60</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae556cccd066d869b759b31634a29bc18"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae556cccd066d869b759b31634a29bc18">mars::sim::NodeManager::getListNodes</a></div><div class="ttdeci">virtual void getListNodes(std::vector&lt; interfaces::core_objects_exchange &gt; *nodeList) const</div><div class="ttdoc">Fills a list of core_object_exchange objects with node iformations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00598">NodeManager.cpp:598</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ac9410972ac193ddfdc0c4ef977af90e9"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac9410972ac193ddfdc0c4ef977af90e9">mars::sim::NodeManager::setNodeStructPositionFromRelative</a></div><div class="ttdeci">void setNodeStructPositionFromRelative(interfaces::NodeData *node) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00914">NodeManager.cpp:914</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_ab12f68cf64f5e8e9e6c99d84c357b147"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#ab12f68cf64f5e8e9e6c99d84c357b147">mars::interfaces::GraphicsManagerInterface::removeDrawObject</a></div><div class="ttdeci">virtual void removeDrawObject(unsigned long id)=0</div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_rotation_params_html"><div class="ttname"><a href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html">mars::sim::NodeManager::RotationParams</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00234">NodeManager.h:234</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a3fd09978d0120e2802dfa0245ace6680"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a3fd09978d0120e2802dfa0245ace6680">mars::interfaces::EDIT_NODE_MATERIAL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00213">MARSDefs.h:213</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a08fe838f058aa0aff2279f6585e65253"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08fe838f058aa0aff2279f6585e65253">mars::sim::NodeManager::NodeManager</a></div><div class="ttdeci">NodeManager(interfaces::ControlCenter *c, lib_manager::LibManager *theManager)</div><div class="ttdoc">Initialization of a new NodeManager. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00065">NodeManager.cpp:65</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aad01ff15b93abd0c6e02261d062da3e0"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aad01ff15b93abd0c6e02261d062da3e0">mars::sim::NodeManager::simNodesDyn</a></div><div class="ttdeci">NodeMap simNodesDyn</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00168">NodeManager.h:168</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aee9ec3091cb25473322d333be0108fe2"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee9ec3091cb25473322d333be0108fe2">mars::sim::NodeManager::setAngularVelocity</a></div><div class="ttdeci">virtual void setAngularVelocity(interfaces::NodeId id, const utils::Vector &amp;vel)</div><div class="ttdoc">Sets the angular velocity of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01375">NodeManager.cpp:1375</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_material_data_html_adeccea745cefc3efc58b54c8182d82f1"><div class="ttname"><a href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#adeccea745cefc3efc58b54c8182d82f1">mars::interfaces::MaterialData::exists</a></div><div class="ttdeci">bool exists</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d75/_material_data_8h_source.html#l00081">MaterialData.h:81</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html_a6e91e771b4745a5f3a402057b5bbe229"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a6e91e771b4745a5f3a402057b5bbe229">mars::interfaces::ControlCenter::graphics</a></div><div class="ttdeci">GraphicsManagerInterface * graphics</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00104">ControlCenter.h:104</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4adb775a37038916d462cc72dac122d259"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4adb775a37038916d462cc72dac122d259">mars::interfaces::EDIT_NODE_SIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00207">MARSDefs.h:207</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a6165c56d0632a02ac6b6fe87c927bca4"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6165c56d0632a02ac6b6fe87c927bca4">mars::interfaces::NodeData::map</a></div><div class="ttdeci">configmaps::ConfigMap map</div><div class="ttdoc">If the data is created from a ConfigMap map the original map is stored here. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00384">NodeData.h:384</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad529a8750d865922501a7f4351c7d69f">mars::interfaces::NODE_TYPE_TERRAIN</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00068">MARSDefs.h:68</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_simulator_interface_html_acdf60a0ff09cd5e14e64b0fb67dc630c"><div class="ttname"><a href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#acdf60a0ff09cd5e14e64b0fb67dc630c">mars::interfaces::SimulatorInterface::sceneHasChanged</a></div><div class="ttdeci">virtual void sceneHasChanged(bool reset)=0</div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4af5fccd15f11ccfa6b92facd79dfb3d0b"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4af5fccd15f11ccfa6b92facd79dfb3d0b">mars::interfaces::EDIT_NODE_GROUP</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00215">MARSDefs.h:215</a></div></div>
<div class="ttc" id="classlib__manager_1_1_lib_manager_html"><div class="ttname"><a href="../../d3/df3/classlib__manager_1_1_lib_manager.html">lib_manager::LibManager</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dab/_lib_manager_8hpp_source.html#l00062">LibManager.hpp:62</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a08cf1a2799a9486cfc53fc727e29e63e"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a08cf1a2799a9486cfc53fc727e29e63e">mars::sim::NodeManager::next_node_id</a></div><div class="ttdeci">interfaces::NodeId next_node_id</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00164">NodeManager.h:164</a></div></div>
<div class="ttc" id="tsort_8c_html_a51edfd33a41382379ccfa90c5c324a2a"><div class="ttname"><a href="../../db/d24/tsort_8c.html#a51edfd33a41382379ccfa90c5c324a2a">ids</a></div><div class="ttdeci">static unsigned long * ids</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d24/tsort_8c_source.html#l00075">tsort.c:75</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a5b5703455773cf54ec8d5d5d0d4bdaa2"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5b5703455773cf54ec8d5d5d0d4bdaa2">mars::sim::NodeManager::reloadNodes</a></div><div class="ttdeci">virtual void reloadNodes(bool reloadGraphics)</div><div class="ttdoc">Reloads all nodes in the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01182">NodeManager.cpp:1182</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a83aa6eacd61d104bfcd84ad019b7e1b3"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a83aa6eacd61d104bfcd84ad019b7e1b3">mars::sim::NodeManager::setVelocity</a></div><div class="ttdeci">virtual void setVelocity(interfaces::NodeId id, const utils::Vector &amp;vel)</div><div class="ttdoc">Sets the linear velocity of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01367">NodeManager.cpp:1367</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a8f9d3a2e9aafc73e7a298111a680fa59"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a8f9d3a2e9aafc73e7a298111a680fa59">mars::interfaces::NodeData::mass</a></div><div class="ttdeci">sReal mass</div><div class="ttdoc">Physical mass of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00231">NodeData.h:231</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a995bcd7471a886309a689c3dff73ce46"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a995bcd7471a886309a689c3dff73ce46">mars::interfaces::NodeData::rot</a></div><div class="ttdeci">utils::Quaternion rot</div><div class="ttdoc">This quaternion describes the orientation of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00205">NodeData.h:205</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a72ec08a08b573a3b644ddb44c12833dd"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72ec08a08b573a3b644ddb44c12833dd">mars::sim::NodeManager::rotateRelativeNodes</a></div><div class="ttdeci">void rotateRelativeNodes(const SimNode &amp;node, NodeMap *nodes, utils::Vector pivot, utils::Quaternion rot)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01686">NodeManager.cpp:1686</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a569fceee8843ff3ace21cbedf6e4998a"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a569fceee8843ff3ace21cbedf6e4998a">mars::interfaces::contact_params::bounce</a></div><div class="ttdeci">sReal bounce</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00056">contact_params.h:56</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a00356d41ed402b01751e2745cc27fc42"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a00356d41ed402b01751e2745cc27fc42">mars::sim::NodeManager::getRotation</a></div><div class="ttdeci">virtual const utils::Quaternion getRotation(interfaces::NodeId id) const</div><div class="ttdoc">Returns the current orientation of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00771">NodeManager.cpp:771</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ab3cad5bc335fe271e27e28ce385c84c3"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cad5bc335fe271e27e28ce385c84c3">mars::sim::NodeManager::maxGroupID</a></div><div class="ttdeci">unsigned long maxGroupID</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00172">NodeManager.h:172</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a34326f43255039840f909d9ad8849340">mars::interfaces::EDIT_NODE_MOVE_ALL</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00212">MARSDefs.h:212</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_base_node_sensor_html_ad6cb742af3f96c07d85a6de928a6a5de"><div class="ttname"><a href="../../da/d0c/classmars_1_1interfaces_1_1_base_node_sensor.html#ad6cb742af3f96c07d85a6de928a6a5de">mars::interfaces::BaseNodeSensor::getAttachedNode</a></div><div class="ttdeci">unsigned long getAttachedNode()</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/dd6/sensor__bases_8h_source.html#l00140">sensor_bases.h:140</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a290cab5abc771bfd848ad01f7d7cee36"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a290cab5abc771bfd848ad01f7d7cee36">mars::sim::NodeManager::getReloadNode</a></div><div class="ttdeci">std::list&lt; interfaces::NodeData &gt;::iterator getReloadNode(interfaces::NodeId id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01212">NodeManager.cpp:1212</a></div></div>
<div class="ttc" id="_camera_sensor_8h_html_a7ced1aa9e19df1e9e15ce8edc1bd613a"><div class="ttname"><a href="../../db/d77/_camera_sensor_8h.html#a7ced1aa9e19df1e9e15ce8edc1bd613a">b</a></div><div class="ttdeci">u_int8_t b</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/_camera_sensor_8h_source.html#l00043">CameraSensor.h:43</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html">mars::interfaces::contact_params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00030">contact_params.h:30</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a1b3d3b3be71e86853a98f0371e8715d2"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1b3d3b3be71e86853a98f0371e8715d2">mars::sim::NodeManager::getSimNode</a></div><div class="ttdeci">virtual SimNode * getSimNode(interfaces::NodeId id)</div><div class="ttdoc">Returns a pointer to the SimNode Object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00900">NodeManager.cpp:900</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a1055a9ec00e979f0a502acc0d9b35569"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a1055a9ec00e979f0a502acc0d9b35569">mars::interfaces::NodeData::visual_offset_pos</a></div><div class="ttdeci">utils::Vector visual_offset_pos</div><div class="ttdoc">The visual representation of a node can have a different position as the physical representation...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00305">NodeData.h:305</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_af2cf867a52dbeb9698fde39915aa8db7"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af2cf867a52dbeb9698fde39915aa8db7">mars::interfaces::contact_params::motion1</a></div><div class="ttdeci">sReal motion1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00054">contact_params.h:54</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a09d0d09a8e1ada8bce99b532718bd75a"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a09d0d09a8e1ada8bce99b532718bd75a">mars::sim::SimNode::getGroupID</a></div><div class="ttdeci">int getGroupID(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00318">SimNode.cpp:318</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a11e78acb43a316ea813ca0f1f1ea46ac"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a11e78acb43a316ea813ca0f1f1ea46ac">mars::sim::SimNode::setInterface</a></div><div class="ttdeci">void setInterface(interfaces::NodeInterface *_interface)</div><div class="ttdoc">Sets the node interface object. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00430">SimNode.cpp:430</a></div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_rotation_params_html_abccce9f4938030f30e3f722e733f5c80"><div class="ttname"><a href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#abccce9f4938030f30e3f722e733f5c80">mars::sim::NodeManager::RotationParams::rotation</a></div><div class="ttdeci">utils::Quaternion rotation</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00237">NodeManager.h:237</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a4243edc8e1c063030f6a7b4532de1abd"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4243edc8e1c063030f6a7b4532de1abd">mars::sim::NodeManager::applyRotation</a></div><div class="ttdeci">static void applyRotation(SimNode *node, const Params *params)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01069">NodeManager.cpp:1069</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a84c648cdb86838162eab1dbe3fb7c52e"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a84c648cdb86838162eab1dbe3fb7c52e">mars::sim::NodeManager::getLinearVelocity</a></div><div class="ttdeci">virtual const utils::Vector getLinearVelocity(interfaces::NodeId id) const</div><div class="ttdoc">Gets the current linear velocity of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00781">NodeManager.cpp:781</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a4935264492dee91d052fecf3817a100d"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4935264492dee91d052fecf3817a100d">mars::sim::NodeManager::simNodes</a></div><div class="ttdeci">NodeMap simNodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00167">NodeManager.h:167</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a791306187a508a86ef1f25932350b27a"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a791306187a508a86ef1f25932350b27a">mars::interfaces::contact_params::bounce_vel</a></div><div class="ttdeci">sReal bounce_vel</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00056">contact_params.h:56</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a64f43d079b31434d9d354b996d1f1a5b"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a64f43d079b31434d9d354b996d1f1a5b">mars::sim::NodeManager::setRotation</a></div><div class="ttdeci">virtual void setRotation(interfaces::NodeId id, const utils::Quaternion &amp;rot)</div><div class="ttdoc">Sets the rotation of the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00824">NodeManager.cpp:824</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a72d71176ddb461b35a98b12ad7556d1c"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a72d71176ddb461b35a98b12ad7556d1c">mars::sim::NodeManager::setReloadFriction</a></div><div class="ttdeci">virtual void setReloadFriction(interfaces::NodeId id, interfaces::sReal friction1, interfaces::sReal friction2)</div><div class="ttdoc">Sets the new contact friction of a node after a reset of the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01239">NodeManager.cpp:1239</a></div></div>
<div class="ttc" id="classmars_1_1utils_1_1_mutex_html_a14156b948ac8326c1fc2e3d4e2506266"><div class="ttname"><a href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a14156b948ac8326c1fc2e3d4e2506266">mars::utils::Mutex::unlock</a></div><div class="ttdeci">MutexError unlock()</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4c/_mutex_8cpp_source.html#l00077">Mutex.cpp:77</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html">mars::interfaces::ControlCenter</a></div><div class="ttdoc">The declaration of the ControlCenter. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00082">ControlCenter.h:82</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a30e4dc5d1f0555c73ed059d832f3a12f"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a30e4dc5d1f0555c73ed059d832f3a12f">mars::interfaces::EDIT_NODE_CONTACT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00214">MARSDefs.h:214</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_adfc8975d53659228c171b3d8e01b6f5b"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#adfc8975d53659228c171b3d8e01b6f5b">mars::interfaces::contact_params::friction1</a></div><div class="ttdeci">sReal friction1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00052">contact_params.h:52</a></div></div>
<div class="ttc" id="namespacemars_1_1utils_html_aac688a4092545b0ba95339c1fae2c847"><div class="ttname"><a href="../../d3/da5/namespacemars_1_1utils.html#aac688a4092545b0ba95339c1fae2c847">mars::utils::quaternionTosRotation</a></div><div class="ttdeci">sRotation quaternionTosRotation(const Quaternion &amp;value)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d73/math_utils_8cpp_source.html#l00163">mathUtils.cpp:163</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a6c51debc39fb5d9e940799c1c3df7813ad00726a056ce52d0702c7dd5ecf54615"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813ad00726a056ce52d0702c7dd5ecf54615">mars::interfaces::NUMBER_OF_NODE_TYPES</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00071">MARSDefs.h:71</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae9e3e22e0ceeaa1a2b619f47ed4fec8f"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9e3e22e0ceeaa1a2b619f47ed4fec8f">mars::sim::NodeManager::addNodeSensor</a></div><div class="ttdeci">virtual void addNodeSensor(interfaces::BaseNodeSensor *sensor)</div><div class="ttdoc">Adds a physical sensor to the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00875">NodeManager.cpp:875</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html">mars::interfaces::terrainStruct</a></div><div class="ttdoc">terrainStruct is a struct to exchange height maps between the GUI and the simulation ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00034">terrainStruct.h:34</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_abc323e0c49efed257e258645cf0c7fd3"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abc323e0c49efed257e258645cf0c7fd3">mars::sim::NodeManager::getNodeState</a></div><div class="ttdeci">virtual void getNodeState(interfaces::NodeId id, interfaces::nodeState *state) const</div><div class="ttdoc">Get physical dynamic values for the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00721">NodeManager.cpp:721</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html">mars::interfaces::NodeData</a></div><div class="ttdoc">NodeData is a struct to exchange node information between the GUI and the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00052">NodeData.h:52</a></div></div>
<div class="ttc" id="_camera_sensor_8h_html_a823989153673424baacf5f55e996e2bd"><div class="ttname"><a href="../../db/d77/_camera_sensor_8h.html#a823989153673424baacf5f55e996e2bd">r</a></div><div class="ttdeci">u_int8_t r</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/_camera_sensor_8h_source.html#l00041">CameraSensor.h:41</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_af6a439c7ee4e31273ade9c44a9ba5c0d"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6a439c7ee4e31273ade9c44a9ba5c0d">mars::sim::NodeManager::getLinearAcceleration</a></div><div class="ttdeci">virtual const utils::Vector getLinearAcceleration(interfaces::NodeId id) const</div><div class="ttdoc">Gets the current linear acceleration of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00800">NodeManager.cpp:800</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a0aa155509d8988ba133995009d190dd4"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0aa155509d8988ba133995009d190dd4">mars::sim::NodeManager::visual_rep</a></div><div class="ttdeci">int visual_rep</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00166">NodeManager.h:166</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a7f0435884cb3275c2a62f1f980f4c3bf"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7f0435884cb3275c2a62f1f980f4c3bf">mars::sim::NodeManager::nodesToUpdate</a></div><div class="ttdeci">NodeMap nodesToUpdate</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00169">NodeManager.h:169</a></div></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="../../d8/dcc/namespacestd.html">std</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a6df8b09d3fc1f546b55ed4d39cb20311"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a6df8b09d3fc1f546b55ed4d39cb20311">mars::interfaces::NodeData::graphicsID1</a></div><div class="ttdeci">NodeId graphicsID1</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00379">NodeData.h:379</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a00167d354e201a08d480aa5c34c671a5"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a00167d354e201a08d480aa5c34c671a5">mars::interfaces::NodeData::filename</a></div><div class="ttdeci">std::string filename</div><div class="ttdoc">The filename of the node to load the visual representation from. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00159">NodeData.h:159</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a3b210e3a2b7f2f7ce91d3c2646fc5b98"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a3b210e3a2b7f2f7ce91d3c2646fc5b98">mars::interfaces::contact_params::friction_direction1</a></div><div class="ttdeci">utils::Vector * friction_direction1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00053">contact_params.h:53</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a6109d79e81594ff854c4e1489773f35e"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a6109d79e81594ff854c4e1489773f35e">mars::interfaces::GraphicsManagerInterface::setDrawObjectScale</a></div><div class="ttdeci">virtual void setDrawObjectScale(unsigned long id, const mars::utils::Vector &amp;ext)=0</div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a143d558b95ae35ea4ea84688201a64e8"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a143d558b95ae35ea4ea84688201a64e8">mars::interfaces::GraphicsManagerInterface::setDrawObjectMaterial</a></div><div class="ttdeci">virtual void setDrawObjectMaterial(unsigned long id, const MaterialData &amp;material)=0</div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_update_interface_html"><div class="ttname"><a href="../../d8/d6e/classmars_1_1interfaces_1_1_graphics_update_interface.html">mars::interfaces::GraphicsUpdateInterface</a></div><div class="ttdoc">The Interface to load controller dynamically into the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d5d/_graphics_update_interface_8h_source.html#l00042">GraphicsUpdateInterface.h:42</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a6c51debc39fb5d9e940799c1c3df7813a8d4866bda3dcb97d7e1b783a08d41254"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813a8d4866bda3dcb97d7e1b783a08d41254">mars::interfaces::NODE_TYPE_SPHERE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00064">MARSDefs.h:64</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_load_center_html_a2b88da0c20e8a7b93e5e765a6378f0ef"><div class="ttname"><a href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a2b88da0c20e8a7b93e5e765a6378f0ef">mars::interfaces::LoadCenter::loadHeightmap</a></div><div class="ttdeci">LoadHeightmapInterface * loadHeightmap</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d36/_load_center_8h_source.html#l00089">LoadCenter.h:89</a></div></div>
<div class="ttc" id="_joint_manager_8h_html"><div class="ttname"><a href="../../d3/d28/_joint_manager_8h.html">JointManager.h</a></div><div class="ttdoc">&quot;JointManager&quot; is the class that manage all joints and their operations and communication between the...</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a95a48ac32e9c041bd21d142cb1504b04"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a95a48ac32e9c041bd21d142cb1504b04">mars::sim::NodeManager::getAngularVelocity</a></div><div class="ttdeci">virtual const utils::Vector getAngularVelocity(interfaces::NodeId id) const</div><div class="ttdoc">Gets the current angular velocity of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00790">NodeManager.cpp:790</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a0bcd1c31a617930314f2f1367ae5789c"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a0bcd1c31a617930314f2f1367ae5789c">mars::interfaces::EDIT_NODE_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00208">MARSDefs.h:208</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_node_manager_interface_html_a9e8be91e67e05db6b67160905b269a1f"><div class="ttname"><a href="../../d7/d4c/classmars_1_1interfaces_1_1_node_manager_interface.html#a9e8be91e67e05db6b67160905b269a1f">mars::interfaces::NodeManagerInterface::editNode</a></div><div class="ttdeci">virtual void editNode(NodeData *nodeS, int changes)=0</div><div class="ttdoc">This function supports the possibility to change some properties of a node. </div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a18fab1995acfc3bb531e0fa6f1247665"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18fab1995acfc3bb531e0fa6f1247665">mars::sim::NodeManager::setReloadAngle</a></div><div class="ttdeci">virtual void setReloadAngle(interfaces::NodeId id, const utils::sRotation &amp;angle)</div><div class="ttdoc">Set the reload orientation of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01340">NodeManager.cpp:1340</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_aa1d1baf8c6bc33298f4f349d5f3afc7a"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aa1d1baf8c6bc33298f4f349d5f3afc7a">mars::interfaces::GraphicsManagerInterface::addGraphicsUpdateInterface</a></div><div class="ttdeci">virtual void addGraphicsUpdateInterface(GraphicsUpdateInterface *g)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_ab2e43bb6398eebafaf8af0f0df92fba2"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ab2e43bb6398eebafaf8af0f0df92fba2">mars::sim::SimNode::rotateAtPoint</a></div><div class="ttdeci">void rotateAtPoint(const utils::Vector &amp;rotation_point, const utils::Quaternion &amp;rotation, bool move_group)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00619">SimNode.cpp:619</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a3dea02dda3765bea19926c0af98f8baf"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3dea02dda3765bea19926c0af98f8baf">mars::sim::NodeManager::printNodeMasses</a></div><div class="ttdeci">void printNodeMasses(bool onlysum)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01704">NodeManager.cpp:1704</a></div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_move_params_html"><div class="ttname"><a href="../../d0/d6f/structmars_1_1sim_1_1_node_manager_1_1_move_params.html">mars::sim::NodeManager::MoveParams</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00230">NodeManager.h:230</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a3a94cd623c1fb789d6a3940f940beb2a"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a94cd623c1fb789d6a3940f940beb2a">mars::sim::NodeManager::getNodeCount</a></div><div class="ttdeci">virtual int getNodeCount() const</div><div class="ttdoc">returns the number of nodes added to the simulation </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00423">NodeManager.cpp:423</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_af005ca94e424b73c50979d3f751d1e62"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af005ca94e424b73c50979d3f751d1e62">mars::interfaces::contact_params::friction2</a></div><div class="ttdeci">sReal friction2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00052">contact_params.h:52</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a8ec3b818063fb126459e95d5f7a9a3a3"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8ec3b818063fb126459e95d5f7a9a3a3">mars::sim::NodeManager::exists</a></div><div class="ttdeci">virtual bool exists(interfaces::NodeId id) const</div><div class="ttdoc">returns true if the node with the given id exists </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00411">NodeManager.cpp:411</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ab3cae00235e02d080370f34d2ca1e583"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab3cae00235e02d080370f34d2ca1e583">mars::sim::NodeManager::applyForce</a></div><div class="ttdeci">virtual void applyForce(interfaces::NodeId id, const utils::Vector &amp;force, const utils::Vector &amp;pos)</div><div class="ttdoc">Adds a off-center Force to the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00834">NodeManager.cpp:834</a></div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_params_html"><div class="ttname"><a href="../../dd/dd8/structmars_1_1sim_1_1_node_manager_1_1_params.html">mars::sim::NodeManager::Params</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00225">NodeManager.h:225</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a42f0629c6a89fc6734776a2b3f98d111"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a42f0629c6a89fc6734776a2b3f98d111">mars::interfaces::NodeData::groupID</a></div><div class="ttdeci">int groupID</div><div class="ttdoc">Several nodes can be grouped by setting the same groupID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00166">NodeData.h:166</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a0a91a51bc032b9962b9e9494ce1c165b"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a0a91a51bc032b9962b9e9494ce1c165b">mars::sim::NodeManager::preGraphicsUpdate</a></div><div class="ttdeci">virtual void preGraphicsUpdate(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01274">NodeManager.cpp:1274</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a9ca704e7e5197695ef57fe8472972d25"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9ca704e7e5197695ef57fe8472972d25">mars::sim::NodeManager::getAngularAcceleration</a></div><div class="ttdeci">virtual const utils::Vector getAngularAcceleration(interfaces::NodeId id) const</div><div class="ttdoc">Gets the current angular/rotational acceleration of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00809">NodeManager.cpp:809</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a42c109856000380968b5b49e82f3674c"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a42c109856000380968b5b49e82f3674c">mars::interfaces::EDIT_NODE_MASS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00209">MARSDefs.h:209</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_ac418b567bb9e7d66ddc8b342df8e2e20"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#ac418b567bb9e7d66ddc8b342df8e2e20">mars::sim::SimNode::setRotation</a></div><div class="ttdeci">const utils::Quaternion setRotation(const utils::Quaternion &amp;rotation, bool move_all)</div><div class="ttdoc">Sets the rotation of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00249">SimNode.cpp:249</a></div></div>
<div class="ttc" id="_camera_sensor_8h_html_aae14d6f4141dfe114a3f5777462bd8b8"><div class="ttname"><a href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a></div><div class="ttdeci">u_int8_t a</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/_camera_sensor_8h_source.html#l00044">CameraSensor.h:44</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_af56fd1a3d2f8ccc2482992924531803d"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af56fd1a3d2f8ccc2482992924531803d">mars::sim::SimNode::changeNode</a></div><div class="ttdeci">void changeNode(interfaces::NodeData *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00649">SimNode.cpp:649</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ab0ee4b1289a8b8da3463f8e907f6cd51"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ab0ee4b1289a8b8da3463f8e907f6cd51">mars::sim::NodeManager::changeNode</a></div><div class="ttdeci">void changeNode(SimNode *editedNode, interfaces::NodeData *nodeS)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01867">NodeManager.cpp:1867</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_aa8b1a942d3160ed335bf3e1a5e0a9f44"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aa8b1a942d3160ed335bf3e1a5e0a9f44">mars::interfaces::GraphicsManagerInterface::getMaterialList</a></div><div class="ttdeci">virtual std::vector&lt; interfaces::MaterialData &gt; getMaterialList() const =0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a9b481c9d890d1729a783470396fed976"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9b481c9d890d1729a783470396fed976">mars::sim::NodeManager::changeGroup</a></div><div class="ttdeci">virtual void changeGroup(interfaces::NodeId id, int group)</div><div class="ttdoc">This function is not implemented yet. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00589">NodeManager.cpp:589</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a7ea3eb2b2e1c91d3ea37d22f13ab1d9e"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ea3eb2b2e1c91d3ea37d22f13ab1d9e">mars::sim::NodeManager::getContactIDs</a></div><div class="ttdeci">virtual void getContactIDs(const interfaces::NodeId &amp;id, std::list&lt; interfaces::NodeId &gt; *ids) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01482">NodeManager.cpp:1482</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a136aef47e1789f1c16080d8cb1889dc7"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a136aef47e1789f1c16080d8cb1889dc7">mars::interfaces::NodeData::visual_offset_rot</a></div><div class="ttdeci">utils::Quaternion visual_offset_rot</div><div class="ttdoc">In the same way as the visual_offset_pos, this quaternion can be used to differentiate the orientatio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00313">NodeData.h:313</a></div></div>
<div class="ttc" id="classmars_1_1utils_1_1_mutex_locker_html"><div class="ttname"><a href="../../df/d9c/classmars_1_1utils_1_1_mutex_locker.html">mars::utils::MutexLocker</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d19/_mutex_locker_8h_source.html#l00030">MutexLocker.h:30</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a9897b3b6d33bf5a51b6597ad67e1a14c"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a9897b3b6d33bf5a51b6597ad67e1a14c">mars::sim::NodeManager::getDrawID</a></div><div class="ttdeci">virtual interfaces::NodeId getDrawID(interfaces::NodeId id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01500">NodeManager.cpp:1500</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ac697807af2756a0017661b7a54c23ad0"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac697807af2756a0017661b7a54c23ad0">mars::sim::NodeManager::libManager</a></div><div class="ttdeci">lib_manager::LibManager * libManager</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00173">NodeManager.h:173</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ac751850ad54db6bae0547284dfbad5ea"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ac751850ad54db6bae0547284dfbad5ea">mars::sim::NodeManager::getPosition</a></div><div class="ttdeci">virtual const utils::Vector getPosition(interfaces::NodeId id) const</div><div class="ttdoc">Returns the current position of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00761">NodeManager.cpp:761</a></div></div>
<div class="ttc" id="namespacemars_1_1utils_html_aff95930b4b9c6c37e33ee4388882cee1"><div class="ttname"><a href="../../d3/da5/namespacemars_1_1utils.html#aff95930b4b9c6c37e33ee4388882cee1">mars::utils::eulerToQuaternion</a></div><div class="ttdeci">Quaternion eulerToQuaternion(const Vector &amp;euler_v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d73/math_utils_8cpp_source.html#l00133">mathUtils.cpp:133</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aee652c048e495935a0e52ec2c7a9e45d"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aee652c048e495935a0e52ec2c7a9e45d">mars::sim::NodeManager::update_all_nodes</a></div><div class="ttdeci">bool update_all_nodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00165">NodeManager.h:165</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a4ca28eee531d8428d44f085eef984499"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4ca28eee531d8428d44f085eef984499">mars::sim::NodeManager::recursiveHelper</a></div><div class="ttdeci">void recursiveHelper(interfaces::NodeId id, const Params *params, std::vector&lt; SimJoint *&gt; *joints, std::vector&lt; int &gt; *gids, NodeMap *nodes, void(*applyFunc)(SimNode *node, const Params *params))</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00987">NodeManager.cpp:987</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a24db996ce0298e2ea4eae6f4d7ce24a2"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a24db996ce0298e2ea4eae6f4d7ce24a2">mars::sim::NodeManager::control</a></div><div class="ttdeci">interfaces::ControlCenter * control</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00176">NodeManager.h:176</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a57bb4c5c1da2bba707ed6fe3fec2b195"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a57bb4c5c1da2bba707ed6fe3fec2b195">mars::sim::NodeManager::getContactForce</a></div><div class="ttdeci">virtual const utils::Vector getContactForce(interfaces::NodeId id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01510">NodeManager.cpp:1510</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ad09d9259a40534ef23ffeb08106db42a"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad09d9259a40534ef23ffeb08106db42a">mars::sim::NodeManager::lock</a></div><div class="ttdeci">virtual void lock()</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00152">NodeManager.h:152</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_af3500ff66203cf73b4eba773c04daa60"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af3500ff66203cf73b4eba773c04daa60">mars::sim::NodeManager::clearRelativePosition</a></div><div class="ttdeci">void clearRelativePosition(interfaces::NodeId id, bool lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01167">NodeManager.cpp:1167</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a3482f639205d04fc8894b2a2590e0042"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3482f639205d04fc8894b2a2590e0042">mars::sim::NodeManager::updateDynamicNodes</a></div><div class="ttdeci">virtual void updateDynamicNodes(interfaces::sReal calc_ms, bool physics_thread=true)</div><div class="ttdoc">Updates the Node values of dynamical nodes from the physics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01266">NodeManager.cpp:1266</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_ae1c38f5c631f7d7d54538b79929ca0b3"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#ae1c38f5c631f7d7d54538b79929ca0b3">mars::interfaces::contact_params::fds1</a></div><div class="ttdeci">sReal fds1</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00055">contact_params.h:55</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a1f35303baf13150f5b7da53b6349034a"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1f35303baf13150f5b7da53b6349034a">mars::sim::NodeManager::setAngularDamping</a></div><div class="ttdeci">virtual void setAngularDamping(interfaces::NodeId id, interfaces::sReal damping)</div><div class="ttdoc">Sets a angular damping factor to the node dynamics. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01418">NodeManager.cpp:1418</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1core__objects__exchange_html"><div class="ttname"><a href="../../dc/d0d/structmars_1_1interfaces_1_1core__objects__exchange.html">mars::interfaces::core_objects_exchange</a></div><div class="ttdoc">core_objects_exchange is a struct to exchange core objects information between the modules of the sim...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/db0/core__objects__exchange_8h_source.html#l00039">core_objects_exchange.h:39</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a409e57378d3291ef6c6916c63deebbb5"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a409e57378d3291ef6c6916c63deebbb5">mars::interfaces::getAbsFromRel</a></div><div class="ttdeci">void getAbsFromRel(const NodeData &amp;node1, NodeData *node2)</div><div class="ttdoc">get the absolute position of a new node by its relative position </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d06/utils_8cpp_source.html#l00043">utils.cpp:43</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a6acf3e04ca37e0b0d065ff0f67fe0daa"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a6acf3e04ca37e0b0d065ff0f67fe0daa">mars::sim::NodeManager::setReloadPosition</a></div><div class="ttdeci">virtual void setReloadPosition(interfaces::NodeId id, const utils::Vector &amp;pos)</div><div class="ttdoc">set the position for the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01254">NodeManager.cpp:1254</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_a9a33484613a5785508a39f18cf8b7827"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a9a33484613a5785508a39f18cf8b7827">mars::interfaces::terrainStruct::material</a></div><div class="ttdeci">MaterialData material</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00046">terrainStruct.h:46</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a694f97459ffe95eccbab8b81a6ccbde7"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a694f97459ffe95eccbab8b81a6ccbde7">mars::sim::NodeManager::addTerrain</a></div><div class="ttdeci">virtual interfaces::NodeId addTerrain(interfaces::terrainStruct *terrainS)</div><div class="ttdoc">This function maps a terrainStruct to a node struct and adds that node to the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00357">NodeManager.cpp:357</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_addd15eb3e4853f0152908bf8723ab76e"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#addd15eb3e4853f0152908bf8723ab76e">mars::sim::SimNode::isMovable</a></div><div class="ttdeci">bool isMovable(void) const</div><div class="ttdoc">returns if node is a movable node </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00368">SimNode.cpp:368</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a5242e4e0ac23103f93bcdc5f82e2d562"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a5242e4e0ac23103f93bcdc5f82e2d562">mars::interfaces::GraphicsManagerInterface::addDrawObject</a></div><div class="ttdeci">virtual unsigned long addDrawObject(const NodeData &amp;snode, bool activated=true)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_adcae194e8d7d01d3c4a1c4e943dfe1fe"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adcae194e8d7d01d3c4a1c4e943dfe1fe">mars::sim::NodeManager::edit</a></div><div class="ttdeci">virtual void edit(interfaces::NodeId id, const std::string &amp;key, const std::string &amp;value)</div><div class="ttdoc">Edit a node property by giving a key and value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01715">NodeManager.cpp:1715</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae44ce0d6b3e034e93df37510121f3988"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae44ce0d6b3e034e93df37510121f3988">mars::sim::NodeManager::getFullNode</a></div><div class="ttdeci">virtual const interfaces::NodeData getFullNode(interfaces::NodeId id) const</div><div class="ttdoc">get the full struct of a Node for editing purposes </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00626">NodeManager.cpp:626</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_physics_interface_html_a970d7d6a206500fc6eda812e72599b18"><div class="ttname"><a href="../../d0/d22/classmars_1_1interfaces_1_1_physics_interface.html#a970d7d6a206500fc6eda812e72599b18">mars::interfaces::PhysicsInterface::getCenterOfMass</a></div><div class="ttdeci">virtual const utils::Vector getCenterOfMass(const std::vector&lt; NodeInterface *&gt; &amp;nodes) const =0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aaef734ebc90523eea5de998aac4a89da"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aaef734ebc90523eea5de998aac4a89da">mars::sim::NodeManager::setIsMovable</a></div><div class="ttdeci">virtual void setIsMovable(interfaces::NodeId id, bool isMovable)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01661">NodeManager.cpp:1661</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a18cb78041647d5153c0ef4418888278d"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a18cb78041647d5153c0ef4418888278d">mars::interfaces::EDIT_NODE_NAME</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00210">MARSDefs.h:210</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a0214a0e5003a1d8362b66e3fda378b2e"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a0214a0e5003a1d8362b66e3fda378b2e">mars::interfaces::sReal</a></div><div class="ttdeci">double sReal</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00049">MARSDefs.h:49</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_abe5c5c946445f265d3e40697bd8c5032"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#abe5c5c946445f265d3e40697bd8c5032">mars::sim::NodeManager::reloadNodeSensor</a></div><div class="ttdeci">virtual void reloadNodeSensor(interfaces::BaseNodeSensor *sensor)</div><div class="ttdoc">This function resets a added sensor by removing it and add a new defined by the sensor config struct...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00890">NodeManager.cpp:890</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_af0b9e8a1a3bfbffeabbe99c6833de495"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#af0b9e8a1a3bfbffeabbe99c6833de495">mars::interfaces::contact_params::fds2</a></div><div class="ttdeci">sReal fds2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00055">contact_params.h:55</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a17ab7e2649fd40fc3780645bd2244157"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a17ab7e2649fd40fc3780645bd2244157">mars::sim::NodeManager::createPrimitiveNode</a></div><div class="ttdeci">virtual interfaces::NodeId createPrimitiveNode(const std::string &amp;name, interfaces::NodeType type, bool movable=false, const utils::Vector &amp;pos=utils::Vector::Zero(), const utils::Vector &amp;extension=utils::Vector::Identity(), double mass=0, const utils::Quaternion &amp;orientation=utils::Quaternion::Identity(), bool disablePhysics=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00081">NodeManager.cpp:81</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ae5dfe1311c8e7a44f2af7535128bd98f"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ae5dfe1311c8e7a44f2af7535128bd98f">mars::interfaces::NodeData::relative_id</a></div><div class="ttdeci">unsigned long relative_id</div><div class="ttdoc">Currently the position of a node can be set relative to the position of the node with the id equal to...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00288">NodeData.h:288</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_af3def19fd66f6de7e0d446335f597086"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#af3def19fd66f6de7e0d446335f597086">mars::sim::SimNode::setGraphicsID</a></div><div class="ttdeci">void setGraphicsID(unsigned long g_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00175">SimNode.cpp:175</a></div></div>
<div class="ttc" id="_sim_joint_8h_html"><div class="ttname"><a href="../../d0/ddc/_sim_joint_8h.html">SimJoint.h</a></div></div>
<div class="ttc" id="_physics_mapper_8h_html"><div class="ttname"><a href="../../df/d11/_physics_mapper_8h.html">PhysicsMapper.h</a></div><div class="ttdoc">&quot;PhysicsMapper&quot; connects the implemented interface classes to the interface objects that are handled ...</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aedd762f52a9888f6ec6e023d1ec073d2"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aedd762f52a9888f6ec6e023d1ec073d2">mars::sim::NodeManager::getDataBrokerNames</a></div><div class="ttdeci">virtual bool getDataBrokerNames(interfaces::NodeId id, std::string *groupName, std::string *dataName) const</div><div class="ttdoc">Retrieves the groupName and dataName under which the node with the specified id publishes its data in...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01624">NodeManager.cpp:1624</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a74dee855196aae77c5450d5cf30dc35a"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a74dee855196aae77c5450d5cf30dc35a">mars::interfaces::GraphicsManagerInterface::getLoadMeshInterface</a></div><div class="ttdeci">virtual LoadMeshInterface * getLoadMeshInterface(void)=0</div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_rotation_params_html_adc2e10ed9971fc0dd56eefc541caf08c"><div class="ttname"><a href="../../de/df9/structmars_1_1sim_1_1_node_manager_1_1_rotation_params.html#adc2e10ed9971fc0dd56eefc541caf08c">mars::sim::NodeManager::RotationParams::rotation_point</a></div><div class="ttdeci">utils::Vector rotation_point</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00236">NodeManager.h:236</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a638b47c11cf63e6c07d9e0f2c923dd15"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a638b47c11cf63e6c07d9e0f2c923dd15">mars::sim::NodeManager::simNodesReload</a></div><div class="ttdeci">std::list&lt; interfaces::NodeData &gt; simNodesReload</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00171">NodeManager.h:171</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae4e9b165ecd8450cdf396e5b118280eb"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae4e9b165ecd8450cdf396e5b118280eb">mars::sim::NodeManager::getNextNodeID</a></div><div class="ttdeci">virtual interfaces::NodeId getNextNodeID() const</div><div class="ttdoc">Returns the ID for the next node which will be added to the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00428">NodeManager.cpp:428</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a44a698dde274136660c6e9b73818f2b3"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a44a698dde274136660c6e9b73818f2b3">mars::sim::NodeManager::applyTorque</a></div><div class="ttdeci">virtual void applyTorque(interfaces::NodeId id, const utils::Vector &amp;torque)</div><div class="ttdoc">Adds a Torque to the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00853">NodeManager.cpp:853</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_af00fc63de2d21734a29b299334629b06"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af00fc63de2d21734a29b299334629b06">mars::interfaces::NodeData::physicMode</a></div><div class="ttdeci">NodeType physicMode</div><div class="ttdoc">This value holds the physical representation of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00186">NodeData.h:186</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a598091a1aab731c26f3b7b5c66e52ea9"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a598091a1aab731c26f3b7b5c66e52ea9">mars::interfaces::contact_params::motion2</a></div><div class="ttdeci">sReal motion2</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00054">contact_params.h:54</a></div></div>
<div class="ttc" id="namespacemars_1_1sim_html_a28ea95fd78153bcb27687367bcf8e6b8"><div class="ttname"><a href="../../d2/d57/namespacemars_1_1sim.html#a28ea95fd78153bcb27687367bcf8e6b8">mars::sim::NodeMap</a></div><div class="ttdeci">std::map&lt; interfaces::NodeId, SimNode * &gt; NodeMap</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00044">NodeManager.h:44</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_af396cfd720b5fa18be490830bab12c6d"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af396cfd720b5fa18be490830bab12c6d">mars::sim::NodeManager::addRotation</a></div><div class="ttdeci">virtual void addRotation(interfaces::NodeId id, const utils::Quaternion &amp;q)</div><div class="ttdoc">Adds a additional rotation to the orientation of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01426">NodeManager.cpp:1426</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html_a5770908abd09f3e5ea23b3152b90bc0c"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a5770908abd09f3e5ea23b3152b90bc0c">mars::interfaces::ControlCenter::loadCenter</a></div><div class="ttdeci">LoadCenter * loadCenter</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00107">ControlCenter.h:107</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a7b054c19185e12ffe0b23877d2998164"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7b054c19185e12ffe0b23877d2998164">mars::interfaces::NodeData::c_params</a></div><div class="ttdeci">contact_params c_params</div><div class="ttdoc">The contact params define the physical contact properties of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00338">NodeData.h:338</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_load_center_html_a3a2b33f4e0f41c4f09261da6541b0d4f"><div class="ttname"><a href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#a3a2b33f4e0f41c4f09261da6541b0d4f">mars::interfaces::LoadCenter::loadMesh</a></div><div class="ttdeci">LoadMeshInterface * loadMesh</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d36/_load_center_8h_source.html#l00088">LoadCenter.h:88</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_ac95195bd33a39f250e82c541f9b8f2aa"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ac95195bd33a39f250e82c541f9b8f2aa">mars::interfaces::terrainStruct::targetHeight</a></div><div class="ttdeci">double targetHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00050">terrainStruct.h:50</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aa74823d54b82d3c9099789a721566079"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa74823d54b82d3c9099789a721566079">mars::sim::NodeManager::getID</a></div><div class="ttdeci">virtual interfaces::NodeId getID(const std::string &amp;node_name) const</div><div class="ttdoc">Retrieve the id of a node by name. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01557">NodeManager.cpp:1557</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_af6c95bc211b1f865080c8004095aa50a"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#af6c95bc211b1f865080c8004095aa50a">mars::sim::NodeManager::setVisualRep</a></div><div class="ttdeci">virtual void setVisualRep(interfaces::NodeId id, int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01530">NodeManager.cpp:1530</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_load_heightmap_interface_html_a4bbb04817ba1c65ca68afb8730ce7207"><div class="ttname"><a href="../../d1/d51/classmars_1_1interfaces_1_1_load_heightmap_interface.html#a4bbb04817ba1c65ca68afb8730ce7207">mars::interfaces::LoadHeightmapInterface::readPixelData</a></div><div class="ttdeci">virtual void readPixelData(terrainStruct *terrain)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a4e86a0b0a607f700fb56d6be663de6d4"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a4e86a0b0a607f700fb56d6be663de6d4">mars::sim::NodeManager::setReloadQuaternion</a></div><div class="ttdeci">virtual void setReloadQuaternion(interfaces::NodeId id, const utils::Quaternion &amp;q)</div><div class="ttdoc">Set the reload orientation of a node by using a quaternion. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01348">NodeManager.cpp:1348</a></div></div>
<div class="ttc" id="classlib__manager_1_1_lib_manager_html_ab95242423d1859d5dcf50c5501974d69"><div class="ttname"><a href="../../d3/df3/classlib__manager_1_1_lib_manager.html#ab95242423d1859d5dcf50c5501974d69">lib_manager::LibManager::getLibraryAs</a></div><div class="ttdeci">T * getLibraryAs(const std::string &amp;libName, bool load=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dab/_lib_manager_8hpp_source.html#l00091">LibManager.hpp:91</a></div></div>
<div class="ttc" id="classconfigmaps_1_1_config_map_html_ad6f765ff3367ce9b3e9b1a8997c4fa61"><div class="ttname"><a href="../../db/d84/classconfigmaps_1_1_config_map.html#ad6f765ff3367ce9b3e9b1a8997c4fa61">configmaps::ConfigMap::hasKey</a></div><div class="ttdeci">bool hasKey(std::string key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d9d/_config_map_8cpp_source.html#l00131">ConfigMap.cpp:131</a></div></div>
<div class="ttc" id="namespacemars_html"><div class="ttname"><a href="../../df/d48/namespacemars.html">mars</a></div><div class="ttdoc">Copyright 2012, DFKI GmbH Robotics Innovation Center. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d3f/app_2src_2_graphics_timer_8cpp_source.html#l00025">GraphicsTimer.cpp:25</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_simulator_interface_html_a0309f32f37ef8329816dc6ebeb99dde8"><div class="ttname"><a href="../../dc/de5/classmars_1_1interfaces_1_1_simulator_interface.html#a0309f32f37ef8329816dc6ebeb99dde8">mars::interfaces::SimulatorInterface::getPhysics</a></div><div class="ttdeci">virtual PhysicsInterface * getPhysics(void) const =0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a2f699039068416543bef40c8db45de80"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a2f699039068416543bef40c8db45de80">mars::sim::NodeManager::removeNode</a></div><div class="ttdeci">virtual void removeNode(interfaces::NodeId id, bool clearGraphics=true)</div><div class="ttdoc">removes the node with the corresponding id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00660">NodeManager.cpp:660</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a5fa3877ac50afe824d7f2111ec8afdc2"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5fa3877ac50afe824d7f2111ec8afdc2">mars::sim::SimNode::getGraphicsID</a></div><div class="ttdeci">unsigned long getGraphicsID(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00180">SimNode.cpp:180</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a5b63b9509d5fff34a80147ed4baca375"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a5b63b9509d5fff34a80147ed4baca375">mars::sim::SimNode::setGraphicsID2</a></div><div class="ttdeci">void setGraphicsID2(unsigned long g_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00185">SimNode.cpp:185</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae9ce891dbe2ec224e671f1b04659e7cf"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae9ce891dbe2ec224e671f1b04659e7cf">mars::sim::NodeManager::setContactParams</a></div><div class="ttdeci">virtual void setContactParams(interfaces::NodeId id, const interfaces::contact_params &amp;cp)</div><div class="ttdoc">Set the contact parameter of a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01359">NodeManager.cpp:1359</a></div></div>
<div class="ttc" id="_camera_sensor_8h_html_ad4103623f9be4a210059916587038673"><div class="ttname"><a href="../../db/d77/_camera_sensor_8h.html#ad4103623f9be4a210059916587038673">g</a></div><div class="ttdeci">u_int8_t g</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/_camera_sensor_8h_source.html#l00042">CameraSensor.h:42</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ad009adad6930e66576e6c22a8b634e5f"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad009adad6930e66576e6c22a8b634e5f">mars::sim::NodeManager::pushToUpdate</a></div><div class="ttdeci">void pushToUpdate(SimNode *node)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01571">NodeManager.cpp:1571</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html_abcc857a921b8b3391689c3351593e780"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#abcc857a921b8b3391689c3351593e780">mars::interfaces::ControlCenter::joints</a></div><div class="ttdeci">JointManagerInterface * joints</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00099">ControlCenter.h:99</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a11990a170c98b9e42baa7ca9d787d575"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a11990a170c98b9e42baa7ca9d787d575">mars::sim::NodeManager::getContactParams</a></div><div class="ttdeci">virtual const interfaces::contact_params getContactParams(interfaces::NodeId id) const</div><div class="ttdoc">Returns the contact properties of a certain node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01434">NodeManager.cpp:1434</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a384b1349c8cc151e6ce89a3440f17ffe"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a384b1349c8cc151e6ce89a3440f17ffe">mars::sim::NodeManager::setNodeState</a></div><div class="ttdeci">virtual void setNodeState(interfaces::NodeId id, const interfaces::nodeState &amp;state)</div><div class="ttdoc">Set physical dynamic values for the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00711">NodeManager.cpp:711</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aece203c66a480ffeb18f44cf81a0b453"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aece203c66a480ffeb18f44cf81a0b453">mars::sim::NodeManager::exportGraphicNodesByID</a></div><div class="ttdeci">virtual void exportGraphicNodesByID(const std::string &amp;folder) const</div><div class="ttdoc">If a graphicsManager is loaded, exports the graphical models of all nodes. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01446">NodeManager.cpp:1446</a></div></div>
<div class="ttc" id="namespacemars_1_1utils_html_a878c2da91f03d7f72c4326de3713cad8"><div class="ttname"><a href="../../d3/da5/namespacemars_1_1utils.html#a878c2da91f03d7f72c4326de3713cad8">mars::utils::Vector</a></div><div class="ttdeci">Eigen::Matrix&lt; double, 3, 1, Eigen::DontAlign &gt; Vector</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d7f/_vector_8h_source.html#l00043">Vector.h:43</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a21a7fa4ec1ced6109f16de626f040450"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a21a7fa4ec1ced6109f16de626f040450">mars::sim::SimNode::getSNode</a></div><div class="ttdeci">const interfaces::NodeData getSNode(void) const</div><div class="ttdoc">Returns a pointer to the sNode. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00491">SimNode.cpp:491</a></div></div>
<div class="ttc" id="_sim_node_8h_html"><div class="ttname"><a href="../../df/d73/_sim_node_8h.html">SimNode.h</a></div></div>
<div class="ttc" id="namespacemars_1_1utils_html_aa567e6a6b9accd3b28a3b95fa2a11a70"><div class="ttname"><a href="../../d3/da5/namespacemars_1_1utils.html#aa567e6a6b9accd3b28a3b95fa2a11a70">mars::utils::Quaternion</a></div><div class="ttdeci">Eigen::Quaternion&lt; double, Eigen::DontAlign &gt; Quaternion</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7d/_quaternion_8h_source.html#l00056">Quaternion.h:56</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html">mars::sim::SimNode</a></div><div class="ttdoc">Two typedefs to keep mesh structure nearly similar to ODE. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d73/_sim_node_8h_source.html#l00084">SimNode.h:84</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_material_data_html_a7a2195198fad193f13f3b1e9763560f5"><div class="ttname"><a href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#a7a2195198fad193f13f3b1e9763560f5">mars::interfaces::MaterialData::transparency</a></div><div class="ttdeci">double transparency</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d75/_material_data_8h_source.html#l00090">MaterialData.h:90</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_load_center_html_aa317984f182829a31bf240942124c483"><div class="ttname"><a href="../../d9/d6a/classmars_1_1interfaces_1_1_load_center.html#aa317984f182829a31bf240942124c483">mars::interfaces::LoadCenter::getMappedID</a></div><div class="ttdeci">unsigned long getMappedID(unsigned long id, unsigned int indextype, unsigned int source) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d94/_load_center_8cpp_source.html#l00058">LoadCenter.cpp:58</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a12cea9f4c621289606b14d3d1867067c"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a12cea9f4c621289606b14d3d1867067c">mars::sim::NodeManager::resetRelativeNodes</a></div><div class="ttdeci">void resetRelativeNodes(const SimNode &amp;node, NodeMap *nodes, const utils::Quaternion *rotate=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00923">NodeManager.cpp:923</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ab7a961430ea0a11467edf0bbe3bf460e"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab7a961430ea0a11467edf0bbe3bf460e">mars::interfaces::NodeData::terrain</a></div><div class="ttdeci">terrainStruct * terrain</div><div class="ttdoc">If the physicMode is set to NODE_TYPE_TERRAIN, this pointer stores all information to create a physic...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00297">NodeData.h:297</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a586d8aa592ff2fdff6a6e7e764d8a326"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a586d8aa592ff2fdff6a6e7e764d8a326">mars::sim::NodeManager::resetRelativeJoints</a></div><div class="ttdeci">void resetRelativeJoints(const SimNode &amp;node, NodeMap *nodes, std::vector&lt; SimJoint *&gt; *joints, const utils::Quaternion *rotate=0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00949">NodeManager.cpp:949</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ada3e5d587a9bb754281df4c965d59310"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ada3e5d587a9bb754281df4c965d59310">mars::sim::NodeManager::setVisualQOffset</a></div><div class="ttdeci">virtual void setVisualQOffset(interfaces::NodeId id, const utils::Quaternion &amp;q)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01634">NodeManager.cpp:1634</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ab275d77caeaa6f78fc7e3288e50fcc7f"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ab275d77caeaa6f78fc7e3288e50fcc7f">mars::interfaces::NodeData::visual_size</a></div><div class="ttdeci">utils::Vector visual_size</div><div class="ttdoc">This vector is used to define the size of the bounding box of the visual representation of a node...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00322">NodeData.h:322</a></div></div>
<div class="ttc" id="namespacemars_1_1utils_html_af9e2091c1fce3985e2e6d63d0e317338"><div class="ttname"><a href="../../d3/da5/namespacemars_1_1utils.html#af9e2091c1fce3985e2e6d63d0e317338">mars::utils::matchPattern</a></div><div class="ttdeci">bool matchPattern(const std::string &amp;pattern, const std::string &amp;str)</div><div class="ttdoc">basic pattern matching function </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/misc_8cpp_source.html#l00056">misc.cpp:56</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a163cd7e8cceefd9e2b13303214425943ae82b6ecfb664aa70ad0ffdaf198b61fa"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a163cd7e8cceefd9e2b13303214425943ae82b6ecfb664aa70ad0ffdaf198b61fa">mars::interfaces::MAP_TYPE_NODE</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00197">MARSDefs.h:197</a></div></div>
<div class="ttc" id="classlib__manager_1_1_lib_manager_html_abf98dcbc43d6b7fb90a1d189176e2c81"><div class="ttname"><a href="../../d3/df3/classlib__manager_1_1_lib_manager.html#abf98dcbc43d6b7fb90a1d189176e2c81">lib_manager::LibManager::loadLibrary</a></div><div class="ttdeci">ErrorNumber loadLibrary(const std::string &amp;libPath, void *config=NULL, bool silent=false, bool noCallback=false)</div><div class="ttdoc">Loads a library from a specified path from the hard drive. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db2/_lib_manager_8cpp_source.html#l00161">LibManager.cpp:161</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_control_center_html_a80e8098628dfd0fb265224187b2f0c06"><div class="ttname"><a href="../../d7/d4e/classmars_1_1interfaces_1_1_control_center.html#a80e8098628dfd0fb265224187b2f0c06">mars::interfaces::ControlCenter::sim</a></div><div class="ttdeci">SimulatorInterface * sim</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/dbb/_control_center_8h_source.html#l00103">ControlCenter.h:103</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a81f02feb1b3ed2c86fb65ef73c4f4296"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a81f02feb1b3ed2c86fb65ef73c4f4296">mars::sim::NodeManager::getConnectedNodes</a></div><div class="ttdeci">virtual std::vector&lt; interfaces::NodeId &gt; getConnectedNodes(interfaces::NodeId id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01580">NodeManager.cpp:1580</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_a8d25f27e94d761811ddb580c9ec73dd5"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#a8d25f27e94d761811ddb580c9ec73dd5">mars::interfaces::contact_params::max_num_contacts</a></div><div class="ttdeci">int max_num_contacts</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00050">contact_params.h:50</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ad5e07ea68334acb48112767d470b58b0"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad5e07ea68334acb48112767d470b58b0">mars::sim::NodeManager::setReloadExtent</a></div><div class="ttdeci">virtual const utils::Vector setReloadExtent(interfaces::NodeId id, const utils::Vector &amp;ext)</div><div class="ttdoc">set the size for the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01223">NodeManager.cpp:1223</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a18d5801f213bcae8e90588154c63e67f"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18d5801f213bcae8e90588154c63e67f">mars::sim::NodeManager::getCollisionDepth</a></div><div class="ttdeci">virtual double getCollisionDepth(interfaces::NodeId id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01520">NodeManager.cpp:1520</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a670eb8431b16673fd219e766cd66530d"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a670eb8431b16673fd219e766cd66530d">mars::interfaces::NodeData::density</a></div><div class="ttdeci">sReal density</div><div class="ttdoc">Physical density of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00225">NodeData.h:225</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_acecbb6dc390c521e1929357b4d611c64"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#acecbb6dc390c521e1929357b4d611c64">mars::sim::NodeManager::rotateNodeRecursive</a></div><div class="ttdeci">void rotateNodeRecursive(interfaces::NodeId id, const utils::Vector &amp;rotation_point, const utils::Quaternion &amp;rotation, std::vector&lt; SimJoint *&gt; *joints, std::vector&lt; int &gt; *gids, NodeMap *nodes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01155">NodeManager.cpp:1155</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a5241e0f11e578abae75a109b21b60e29"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a5241e0f11e578abae75a109b21b60e29">mars::sim::NodeManager::getContactPoints</a></div><div class="ttdeci">virtual void getContactPoints(std::vector&lt; interfaces::NodeId &gt; *ids, std::vector&lt; utils::Vector &gt; *contact_points) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01465">NodeManager.cpp:1465</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ac8b2c3d87a457a68b8b49506a431ffda"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac8b2c3d87a457a68b8b49506a431ffda">mars::interfaces::NodeData::movable</a></div><div class="ttdeci">bool movable</div><div class="ttdoc">This boolean variable defines if the physical representation is fixed in the world or if it&amp;#39;s a movab...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00212">NodeData.h:212</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1node_state_html"><div class="ttname"><a href="../../d1/d94/structmars_1_1interfaces_1_1node_state.html">mars::interfaces::nodeState</a></div><div class="ttdoc">A physical state of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d98/node_state_8h_source.html#l00039">nodeState.h:39</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_a974b23e8804bb743a3787ed67bc23c36"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a974b23e8804bb743a3787ed67bc23c36">mars::interfaces::terrainStruct::pixelData</a></div><div class="ttdeci">double * pixelData</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00053">terrainStruct.h:53</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a33d58861d771d6c5d7629d9fa5a0895b"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a33d58861d771d6c5d7629d9fa5a0895b">mars::interfaces::GraphicsManagerInterface::getLoadHeightmapInterface</a></div><div class="ttdeci">virtual LoadHeightmapInterface * getLoadHeightmapInterface(void)=0</div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_joint_manager_interface_html_acccaaef9fc3dfdabafabe24c2dca48c4"><div class="ttname"><a href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#acccaaef9fc3dfdabafabe24c2dca48c4">mars::interfaces::JointManagerInterface::getSimJoints</a></div><div class="ttdeci">virtual std::vector&lt; sim::SimJoint * &gt; getSimJoints(void)=0</div><div class="ttdoc">Return a copy of the SimJointVector;. </div></div>
<div class="ttc" id="_node_manager_8h_html"><div class="ttname"><a href="../../d1/ddd/_node_manager_8h.html">NodeManager.h</a></div><div class="ttdoc">&quot;NodeManager&quot; is the class that manage all nodes and their operations and communication between the d...</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a23b48e0750e425d97f1eef44253210e6"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a23b48e0750e425d97f1eef44253210e6">mars::sim::NodeManager::updateRay</a></div><div class="ttdeci">virtual void updateRay(interfaces::NodeId id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01491">NodeManager.cpp:1491</a></div></div>
<div class="ttc" id="structmars_1_1utils_1_1s_rotation_html"><div class="ttname"><a href="../../d9/d73/structmars_1_1utils_1_1s_rotation.html">mars::utils::sRotation</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d7d/_quaternion_8h_source.html#l00046">Quaternion.h:46</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a821f6d2087c9e680d357462deffecdbb"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a821f6d2087c9e680d357462deffecdbb">mars::interfaces::NodeData::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">The name of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00143">NodeData.h:143</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ad97af4e894f47bc68a620a6bbc61ef64"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad97af4e894f47bc68a620a6bbc61ef64">mars::sim::NodeManager::iMutex</a></div><div class="ttdeci">utils::Mutex iMutex</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00174">NodeManager.h:174</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a2f904606ed56c5ce91efd7ee363d54a5"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a2f904606ed56c5ce91efd7ee363d54a5">mars::interfaces::GraphicsManagerInterface::setDrawObjectShow</a></div><div class="ttdeci">virtual void setDrawObjectShow(unsigned long id, bool val)=0</div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_node_interface_html_a395bc348a45527dc2b13e60a91f71785"><div class="ttname"><a href="../../da/d43/classmars_1_1interfaces_1_1_node_interface.html#a395bc348a45527dc2b13e60a91f71785">mars::interfaces::NodeInterface::createNode</a></div><div class="ttdeci">virtual bool createNode(NodeData *node)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a8bd62963cb6e19fb6b3bc01f3d052455"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a8bd62963cb6e19fb6b3bc01f3d052455">mars::sim::NodeManager::getNodeMass</a></div><div class="ttdeci">virtual void getNodeMass(interfaces::NodeId id, interfaces::sReal *mass, interfaces::sReal *inertia=0) const</div><div class="ttdoc">Returns the mass and inertia of a certain node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01409">NodeManager.cpp:1409</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a5b10ec0ce1eb03599e35c1ebdc548ca5"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a5b10ec0ce1eb03599e35c1ebdc548ca5">mars::interfaces::NodeData::material</a></div><div class="ttdeci">MaterialData material</div><div class="ttdoc">The material struct defines the visual material of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00262">NodeData.h:262</a></div></div>
<div class="ttc" id="_m_a_r_s_defs_8h_html_a54bf7743dcb5818f0dc609c7f383014f"><div class="ttname"><a href="../../dd/d9e/_m_a_r_s_defs_8h.html#a54bf7743dcb5818f0dc609c7f383014f">CPP_UNUSED</a></div><div class="ttdeci">#define CPP_UNUSED(a)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00034">MARSDefs.h:34</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_acb806956a25f6068526b5218f7496626"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#acb806956a25f6068526b5218f7496626">mars::sim::SimNode::setVisualRep</a></div><div class="ttdeci">void setVisualRep(int val)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00238">SimNode.cpp:238</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_af7d66eb99b88370fccbe0ccb8cd49ef7"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#af7d66eb99b88370fccbe0ccb8cd49ef7">mars::interfaces::NodeData::ext</a></div><div class="ttdeci">utils::Vector ext</div><div class="ttdoc">The size of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00247">NodeData.h:247</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a52d87585c55d87be1238e743839cee72"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a52d87585c55d87be1238e743839cee72">mars::interfaces::EDIT_NODE_PHYSICS</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00216">MARSDefs.h:216</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a1d87b7f0771708ddac43be5f51127f22"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1d87b7f0771708ddac43be5f51127f22">mars::sim::SimNode::setPositionOffset</a></div><div class="ttdeci">void setPositionOffset(const utils::Vector &amp;offset)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00222">SimNode.cpp:222</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_afd7c7eebf3a8233896ec6e2488e9a5fe"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#afd7c7eebf3a8233896ec6e2488e9a5fe">mars::interfaces::terrainStruct::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00047">terrainStruct.h:47</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_ae348571914e98321c8416c51607e82ac"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#ae348571914e98321c8416c51607e82ac">mars::interfaces::terrainStruct::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00048">terrainStruct.h:48</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a724f6f54fa0273f71f7b3ce06cda2d74"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a724f6f54fa0273f71f7b3ce06cda2d74">mars::sim::NodeManager::addPrimitive</a></div><div class="ttdeci">virtual interfaces::NodeId addPrimitive(interfaces::NodeData *snode)</div><div class="ttdoc">This function adds an primitive to the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00402">NodeManager.cpp:402</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ae6f902cf1e10037260f558a73a4c58cc"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ae6f902cf1e10037260f558a73a4c58cc">mars::interfaces::NodeId</a></div><div class="ttdeci">unsigned long NodeId</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00045">MARSDefs.h:45</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae95f636dffb97abf5caa38fc72ed22fc"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae95f636dffb97abf5caa38fc72ed22fc">mars::sim::NodeManager::getNodeExchange</a></div><div class="ttdeci">virtual void getNodeExchange(interfaces::NodeId id, interfaces::core_objects_exchange *obj) const</div><div class="ttdoc">Fills one core_object_exchange object with node information of the node with the given id...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00613">NodeManager.cpp:613</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_afdc7194e6e73e6bb8ee06712a31c3597"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#afdc7194e6e73e6bb8ee06712a31c3597">mars::sim::NodeManager::moveRelativeNodes</a></div><div class="ttdeci">void moveRelativeNodes(const SimNode &amp;node, NodeMap *nodes, utils::Vector v)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01667">NodeManager.cpp:1667</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a29fb5d965f02d3f02dc9662d7ec30183"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a29fb5d965f02d3f02dc9662d7ec30183">mars::sim::NodeManager::getIsMovable</a></div><div class="ttdeci">virtual bool getIsMovable(interfaces::NodeId id) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01654">NodeManager.cpp:1654</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html">mars::interfaces::GraphicsManagerInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d84/_graphics_manager_interface_8h_source.html#l00054">GraphicsManagerInterface.h:54</a></div></div>
<div class="ttc" id="classmars_1_1utils_1_1_mutex_html_a2faece5e9804f06a6cbce95a82bd7bbc"><div class="ttname"><a href="../../d6/d90/classmars_1_1utils_1_1_mutex.html#a2faece5e9804f06a6cbce95a82bd7bbc">mars::utils::Mutex::lock</a></div><div class="ttdeci">MutexError lock()</div><div class="ttdoc">locks the Mutex </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d4c/_mutex_8cpp_source.html#l00061">Mutex.cpp:61</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_load_mesh_interface_html_a0612a51c6117b9e447a745603c145f2d"><div class="ttname"><a href="../../d7/d02/classmars_1_1interfaces_1_1_load_mesh_interface.html#a0612a51c6117b9e447a745603c145f2d">mars::interfaces::LoadMeshInterface::getPhysicsFromMesh</a></div><div class="ttdeci">virtual void getPhysicsFromMesh(NodeData *node)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae7cc15f53e7c10e80db9870700ab6c4c"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae7cc15f53e7c10e80db9870700ab6c4c">mars::sim::NodeManager::setContactParamMotion1</a></div><div class="ttdeci">virtual void setContactParamMotion1(interfaces::NodeId id, interfaces::sReal motion)</div><div class="ttdoc">Sets the contact parameter motion1 for the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00864">NodeManager.cpp:864</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ad422d1ccba8ffa99bfeb967a6c9a5215"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ad422d1ccba8ffa99bfeb967a6c9a5215">mars::sim::NodeManager::applyMove</a></div><div class="ttdeci">static void applyMove(SimNode *node, const Params *params)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01063">NodeManager.cpp:1063</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_a7ff2e87ffa11146a7c87231d0da8c80d"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#a7ff2e87ffa11146a7c87231d0da8c80d">mars::interfaces::GraphicsManagerInterface::setDrawObjectRot</a></div><div class="ttdeci">virtual void setDrawObjectRot(unsigned long id, const mars::utils::Quaternion &amp;q)=0</div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_a7b96ad9cf08a88b2e5b7f5ec88a615df"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a7b96ad9cf08a88b2e5b7f5ec88a615df">mars::interfaces::terrainStruct::scale</a></div><div class="ttdeci">double scale</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00051">terrainStruct.h:51</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a62186278ba383240176ceaabc4bc85d6"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a62186278ba383240176ceaabc4bc85d6">mars::sim::SimNode::getPosition</a></div><div class="ttdeci">const utils::Vector getPosition(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00227">SimNode.cpp:227</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a262979f3a28f1680b4761cefb06a4522"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a262979f3a28f1680b4761cefb06a4522">mars::sim::SimNode::getGraphicsID2</a></div><div class="ttdeci">unsigned long getGraphicsID2(void) const</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00190">SimNode.cpp:190</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_a6c51debc39fb5d9e940799c1c3df7813a8bb61c79682d299f370b94eeaa0a68fd"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#a6c51debc39fb5d9e940799c1c3df7813a8bb61c79682d299f370b94eeaa0a68fd">mars::interfaces::NODE_TYPE_MESH</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00062">MARSDefs.h:62</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ac52789336d999e16de7165b14ff331f9"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ac52789336d999e16de7165b14ff331f9">mars::interfaces::NodeData::index</a></div><div class="ttdeci">unsigned long index</div><div class="ttdoc">The unique index of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00172">NodeData.h:172</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_joint_manager_interface_html_a2b490d838b68e16312099888e5318c15"><div class="ttname"><a href="../../d6/d60/classmars_1_1interfaces_1_1_joint_manager_interface.html#a2b490d838b68e16312099888e5318c15">mars::interfaces::JointManagerInterface::reattacheJoints</a></div><div class="ttdeci">virtual void reattacheJoints(unsigned long node_id)=0</div><div class="ttdoc">Reattaches the joints that are connected to the node with id node_id. </div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a1198db611e698e7941dacc8a99a513f0"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a1198db611e698e7941dacc8a99a513f0">mars::sim::NodeManager::rotateNode</a></div><div class="ttdeci">virtual void rotateNode(interfaces::NodeId id, utils::Vector pivot, utils::Quaternion q, unsigned long excludeJointId, bool includeConnected=true)</div><div class="ttdoc">Rotates the specified node according to the provided quaternion. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01084">NodeManager.cpp:1084</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ade69ffd5e32fcadc9ac69a0c108b7080"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ade69ffd5e32fcadc9ac69a0c108b7080">mars::sim::NodeManager::vizNodes</a></div><div class="ttdeci">NodeMap vizNodes</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00170">NodeManager.h:170</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a4dbdc2b24e8645bf70f3878138d3fd72"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a4dbdc2b24e8645bf70f3878138d3fd72">mars::sim::SimNode::setRelativePosition</a></div><div class="ttdeci">void setRelativePosition(const interfaces::NodeData &amp;node)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00713">SimNode.cpp:713</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a3974bf0a49c4c41656e09dd16789e664"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3974bf0a49c4c41656e09dd16789e664">mars::sim::NodeManager::getCenterOfMass</a></div><div class="ttdeci">virtual const utils::Vector getCenterOfMass(const std::vector&lt; interfaces::NodeId &gt; &amp;ids) const</div><div class="ttdoc">Return the center of mass for the nodes corresponding to the id&amp;#39;s from the given vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00732">NodeManager.cpp:732</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a930aa342964a145e7e011251cc1333ad"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a930aa342964a145e7e011251cc1333ad">mars::sim::NodeManager::clearAllNodes</a></div><div class="ttdeci">virtual void clearAllNodes(bool clear_all=false, bool clearGraphics=true)</div><div class="ttdoc">Removes all nodes from the simulation to clear the world. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01322">NodeManager.cpp:1322</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html">mars::sim::NodeManager</a></div><div class="ttdoc">The declaration of the NodeManager class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00052">NodeManager.h:52</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_adabf20d2edcebb16c08a6ddf80b79524"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#adabf20d2edcebb16c08a6ddf80b79524">mars::sim::NodeManager::updatePR</a></div><div class="ttdeci">virtual void updatePR(interfaces::NodeId id, const utils::Vector &amp;pos, const utils::Quaternion &amp;rot, const utils::Vector &amp;visOffsetPos, const utils::Quaternion &amp;visOffsetRot, bool doLock=true)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01640">NodeManager.cpp:1640</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_adb96972c7c5db4c3b2739f416853eb7f"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#adb96972c7c5db4c3b2739f416853eb7f">mars::interfaces::GraphicsManagerInterface::exportDrawObject</a></div><div class="ttdeci">virtual void exportDrawObject(unsigned long id, const std::string &amp;name) const =0</div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1contact__params_html_aa2bb13d0f7d3c9bf09a331e9d6f43132"><div class="ttname"><a href="../../dc/d1d/structmars_1_1interfaces_1_1contact__params.html#aa2bb13d0f7d3c9bf09a331e9d6f43132">mars::interfaces::contact_params::cfm</a></div><div class="ttdeci">sReal cfm</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d54/contact__params_8h_source.html#l00051">contact_params.h:51</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a595e2c296b0b9d4cbf72405f76db79d7"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a595e2c296b0b9d4cbf72405f76db79d7">mars::interfaces::NodeData::graphicsID2</a></div><div class="ttdeci">NodeId graphicsID2</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00379">NodeData.h:379</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_a14fc4ffb9fc436fbb51a1675b8194047"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a14fc4ffb9fc436fbb51a1675b8194047">mars::interfaces::terrainStruct::srcname</a></div><div class="ttdeci">std::string srcname</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00045">terrainStruct.h:45</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_ad43b395305dc48031658f485d1af8ede"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#ad43b395305dc48031658f485d1af8ede">mars::interfaces::NodeData::toString</a></div><div class="ttdeci">static const char * toString(const NodeType &amp;type)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/db6/_node_data_8cpp_source.html#l00071">NodeData.cpp:71</a></div></div>
<div class="ttc" id="_logging_8hpp_html_ad4a9117ce894e3319e903142347a0f63"><div class="ttname"><a href="../../dc/d43/_logging_8hpp.html#ad4a9117ce894e3319e903142347a0f63">LOG_ERROR</a></div><div class="ttdeci">#define LOG_ERROR(...)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/_logging_8hpp_source.html#l00021">Logging.hpp:21</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1_node_data_html_a7d19da6e37b03b377434c5c2288a9518"><div class="ttname"><a href="../../d8/d4f/structmars_1_1interfaces_1_1_node_data.html#a7d19da6e37b03b377434c5c2288a9518">mars::interfaces::NodeData::noPhysical</a></div><div class="ttdeci">bool noPhysical</div><div class="ttdoc">This boolean variable defines if the node have a physical representation or if it&amp;#39;s only part of the ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1b/_node_data_8h_source.html#l00220">NodeData.h:220</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_physics_mapper_html_ab9f006c8d93fdc1b6b718ec405c16183"><div class="ttname"><a href="../../d3/d9f/classmars_1_1sim_1_1_physics_mapper.html#ab9f006c8d93fdc1b6b718ec405c16183">mars::sim::PhysicsMapper::newNodePhysics</a></div><div class="ttdeci">static interfaces::NodeInterface * newNodePhysics(interfaces::PhysicsInterface *worldPhysics)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc6/_physics_mapper_8cpp_source.html#l00040">PhysicsMapper.cpp:40</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_aa95082469f40b225f2e9fb06fb824e67"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#aa95082469f40b225f2e9fb06fb824e67">mars::sim::NodeManager::moveNodeRecursive</a></div><div class="ttdeci">void moveNodeRecursive(interfaces::NodeId id, const utils::Vector &amp;offset, std::vector&lt; SimJoint *&gt; *joints, std::vector&lt; int &gt; *gids, NodeMap *nodes)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01075">NodeManager.cpp:1075</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_graphics_manager_interface_html_aef0c26265888499788f07a34ddaf1b24"><div class="ttname"><a href="../../d1/d93/classmars_1_1interfaces_1_1_graphics_manager_interface.html#aef0c26265888499788f07a34ddaf1b24">mars::interfaces::GraphicsManagerInterface::makeChild</a></div><div class="ttdeci">virtual void makeChild(unsigned long parentId, unsigned long childId)=0</div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a6ee2be3f10bf6aa3661ad369eb062625"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a6ee2be3f10bf6aa3661ad369eb062625">mars::sim::SimNode::setMaterial</a></div><div class="ttdeci">void setMaterial(const interfaces::MaterialData &amp;material)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00378">SimNode.cpp:378</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a98f275e57621a318b6a6613924b68cf2"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a98f275e57621a318b6a6613924b68cf2">mars::sim::SimNode::getID</a></div><div class="ttdeci">unsigned long getID(void) const</div><div class="ttdoc">Returns the node ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00440">SimNode.cpp:440</a></div></div>
<div class="ttc" id="_m_a_r_s_defs_8h_html_a483b0a38edf0c10ef4a7cb633dc8a9fc"><div class="ttname"><a href="../../dd/d9e/_m_a_r_s_defs_8h.html#a483b0a38edf0c10ef4a7cb633dc8a9fc">INVALID_ID</a></div><div class="ttdeci">#define INVALID_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00040">MARSDefs.h:40</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_ae49e7424ea532a910039716465b1a47a"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#ae49e7424ea532a910039716465b1a47a">mars::sim::NodeManager::addNode</a></div><div class="ttdeci">virtual interfaces::NodeId addNode(interfaces::NodeData *nodeS, bool reload=false, bool loadGraphics=true)</div><div class="ttdoc">Add a node to the node pool of the simulation. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00108">NodeManager.cpp:108</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a40e1764550dddd2e32a5b47fd11bdde1"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a40e1764550dddd2e32a5b47fd11bdde1">mars::sim::NodeManager::positionNode</a></div><div class="ttdeci">virtual void positionNode(interfaces::NodeId id, utils::Vector pos, unsigned long excludeJointId)</div><div class="ttdoc">Positions the node according to the provided vector. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01120">NodeManager.cpp:1120</a></div></div>
<div class="ttc" id="classmars_1_1interfaces_1_1_material_data_html_aa833131df5bd4f27e5970872f7e501e2"><div class="ttname"><a href="../../d9/d1d/classmars_1_1interfaces_1_1_material_data.html#aa833131df5bd4f27e5970872f7e501e2">mars::interfaces::MaterialData::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="../../de/d75/_material_data_8h_source.html#l00101">MaterialData.h:101</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_sim_node_html_a1a936614514034d665b8f8a8b0bbae7d"><div class="ttname"><a href="../../d5/db3/classmars_1_1sim_1_1_sim_node.html#a1a936614514034d665b8f8a8b0bbae7d">mars::sim::SimNode::setPosition</a></div><div class="ttdeci">const utils::Vector setPosition(const utils::Vector &amp;newPosition, bool move_group)</div><div class="ttdoc">Sets the position of the node. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d0b/_sim_node_8cpp_source.html#l00195">SimNode.cpp:195</a></div></div>
<div class="ttc" id="structmars_1_1interfaces_1_1terrain_struct_html_a71d33549212dbc177d9fabeb6650d878"><div class="ttname"><a href="../../de/dd2/structmars_1_1interfaces_1_1terrain_struct.html#a71d33549212dbc177d9fabeb6650d878">mars::interfaces::terrainStruct::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d6d/terrain_struct_8h_source.html#l00044">terrainStruct.h:44</a></div></div>
<div class="ttc" id="structmars_1_1sim_1_1_node_manager_1_1_move_params_html_a2ac9f21e45d319625ec81b76d9691163"><div class="ttname"><a href="../../d0/d6f/structmars_1_1sim_1_1_node_manager_1_1_move_params.html#a2ac9f21e45d319625ec81b76d9691163">mars::sim::NodeManager::MoveParams::offset</a></div><div class="ttdeci">utils::Vector offset</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/ddd/_node_manager_8h_source.html#l00232">NodeManager.h:232</a></div></div>
<div class="ttc" id="namespacemars_1_1interfaces_html_ab6e169b92fa0267c94dfa418ea3d1fa4a3f1913e5b7787f94e20b12de5dd8bd2f"><div class="ttname"><a href="../../d8/dec/namespacemars_1_1interfaces.html#ab6e169b92fa0267c94dfa418ea3d1fa4a3f1913e5b7787f94e20b12de5dd8bd2f">mars::interfaces::EDIT_NODE_ROT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d9e/_m_a_r_s_defs_8h_source.html#l00206">MARSDefs.h:206</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a7ed4be511e457a69402a1797569ccc86"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a7ed4be511e457a69402a1797569ccc86">mars::sim::NodeManager::setPosition</a></div><div class="ttdeci">virtual void setPosition(interfaces::NodeId id, const utils::Vector &amp;pos)</div><div class="ttdoc">Sets the position of the node with the given id. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00751">NodeManager.cpp:751</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a3a985862b4511d40ebd5eca1a9e399df"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a3a985862b4511d40ebd5eca1a9e399df">mars::sim::NodeManager::editNode</a></div><div class="ttdeci">virtual void editNode(interfaces::NodeData *nodeS, int changes)</div><div class="ttdoc">Change a node. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l00436">NodeManager.cpp:436</a></div></div>
<div class="ttc" id="classmars_1_1sim_1_1_node_manager_html_a18488c697d7373d6901d4ee5c327b712"><div class="ttname"><a href="../../d5/d54/classmars_1_1sim_1_1_node_manager.html#a18488c697d7373d6901d4ee5c327b712">mars::sim::NodeManager::scaleReloadNodes</a></div><div class="ttdeci">virtual void scaleReloadNodes(interfaces::sReal x, interfaces::sReal y, interfaces::sReal z)</div><div class="ttdoc">Scales the nodes to reload. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/dc7/_node_manager_8cpp_source.html#l01386">NodeManager.cpp:1386</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_95ed74897c4a33f9b28a9e7d18ec7151.html">sim</a></li><li class="navelem"><a class="el" href="../../dir_c70d98a9a9c5ea83d353f04f72053e55.html">src</a></li><li class="navelem"><a class="el" href="../../dir_953de810d1de7a29957f5321cc9bd767.html">core</a></li><li class="navelem"><a class="el" href="../../d1/dc7/_node_manager_8cpp.html">NodeManager.cpp</a></li>
    <li class="footer">Generated on Fri May 25 2018 11:38:08 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
