<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>/media/kavonszadkowski/work/marsdocs/mars/doc/src/smurfs.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../mars_doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo_triple.png"/></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">An open-source, flexible 3D physical simulation framework</div>
    </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d9c/smurfs_8md.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/media/kavonszadkowski/work/marsdocs/mars/doc/src/smurfs.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d3/d9c/smurfs_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;SMURF / SMURF Scenes {#smurfs}</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;==============================</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">## Overview</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;SMURF is the robot description format used by MARS and an extension of URDF: it contains more information than URDF, but maintains full compatibility. Thus, discarding the additional data, it<span class="stringliteral">&#39;s always possible to retrieve a valid URDF from a SMURF robot representation. Check the [SMURF parser](https://github.com/rock-simulation/smurf_parser) for details.</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">SMURF scenes (or SMURFS) is a scene format building on the definition of SMURF, but again extending it. While the original [MARS scene](@ref mars_scenes) essentially contained every geometrical object in the scene and it was possible to have multiple robots or objects of the environment mixed in one file, SMURF scenes demand objects in the scene to be grouped as simulation *entities*.  </span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">Such entities can be anything from a heightmap representing the ground to a SMURF-defined robot to simply a light source. MARS has a component called `EntityFactoryManager` (EFM) where classes implementing the `EntityFactory` interface can register one or more entity types. The mars::smurf::SMURFLoader forwards the data in the form of a [`ConfigMap`](https://github.com/rock-simulation/configmaps) to the EFM, which in turn passes it to the respective factories. The config map data gets stored in the `SimEntity` for later use, which allows the creation of plugins to react to user-defined custom data.</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral">There is a variety of [SMURF scenes based on SVG files](@ref smurfs_svg).</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">## SMURF</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral">The Supplementable, Mostly Universal Robot Format is a flexible format to describe the entirety of a robot. It extends URDF - which it maintains as a separate file - by annotating the URDF data in additional [YAML](http://yaml.org) files.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="stringliteral">You can find the SMURF format documentation on the [GitHub repository of the SMURF parser](http://github.com/rock-simulation/smurf_parser).</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="stringliteral">## SMURF Scenes</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="stringliteral">### Creating Entities</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="stringliteral">As mentioned above, SMURF scenes are built from putting together a list of entities. As most of SMURF itself (the only exception being the URDF file), SMURF scenes are encoded in [YAML](http://yaml.org) format. The smallest example we can conjure up has a list with just one element:</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="stringliteral">    entities:</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="stringliteral">      - name: Eve</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="stringliteral">This minimalist entry for our robot called &#39;</span>Eve<span class="stringliteral">&#39; contains its *name* (which will become the name of the `SimEntity` in MARS) and the URI of the SMURF *file*. As we specified no type, MARS will try to parse it from the file extension, which in the case of &#39;</span>.smurf<span class="stringliteral">&#39; will translate to *smurf* and allow the correct `EntityFactory` to be used. However we can explicitly specify the type if we want:</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="stringliteral">    entities:</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="stringliteral">      - name: Eve</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="stringliteral">This may be helpful for users not familiar with the SMURF scene format.  </span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="stringliteral">If we want to get Eve some company, we can now simply add a second robot to our scene, like so:</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="stringliteral">    entities:</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="stringliteral">      - name: Eve</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="stringliteral">      - name: Adam</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="stringliteral">As you can see, it&#39;</span>s entirely possible to put more than one robot based on the same SMURF file in one scene, as entities will be distinguished by their names.</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;### Placing Entities</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;There is <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a> problem with the above scene containing Adam and Eve: they will both be created at the global origin. Biblical references aside, <span class="keyword">this</span> is not very practical, as it will lead to collisions that are going to ruin your simulation day. We should therefore <span class="keyword">get</span> some distance <a class="code" href="../../d5/dee/namespacemars_1_1graphics.html#a9cd9fb81f0e4b94d770eafff6ea201fa">between</a> the two models:</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">    # example.smurfs</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    # SMURF scene example</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    entities:</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      - name: Eve</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        type: smurf</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        file: myrobot.smurf</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        position: [5.0, 0, -0.8]    # [x, y, z]</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        rotation: [1.5, 20.0, 0.0]  # euler angles: [x, y, z]</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;      - name: Adam</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        type: smurf</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        file: myrobot.smurf</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        position: [-2.0, 3.5, 0]</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        rotation: [0.7071, 0.0, -0.7071, 0.0]  # quaternion [w, x, y, z]</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;While position is always notated as <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a> list of three floats, rotation can be provided as either Euler angles or <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a> rotation quaternion - MARS will interpret the provided list of numbers according to its length. It<span class="stringliteral">&#39;s even possible only to specify one value (e.g. `rotation: [45.3]`), which will be interpreted as a rotation around the global Z axis.  </span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="stringliteral">As you will also have noted, you can add comments anywhere in YAML using `#`.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="stringliteral">### Anchoring Entities</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="stringliteral">Our two robots so far have been free to move around in our simulated world (though admittedly, there is no ground for them to move around on yet), but sometimes model of a robot or other entities for that matter are supposed to be static, or, &quot;anchored to the world&quot;:</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="stringliteral">    # example.smurfs</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="stringliteral">    # SMURF scene example</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="stringliteral">    entities:</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="stringliteral">      - name: Eve</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="stringliteral">        position: [5.0, 0, -0.8]    # [x, y, z]</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="stringliteral">        rotation: [1.5, 20.0, 0.0]  # euler angles: [x, y, z]</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="stringliteral">      - name: Adam</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="stringliteral">        position: [-2.0, 3.5, 0]</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="stringliteral">        rotation: [0.7071, 0.0, -0.7071, 0.0]  # quaternion [w, x, y, z]</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="stringliteral">      - name: Lazy Bob</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="stringliteral">        file: lazybot.smurf</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="stringliteral">        anchor: world</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="stringliteral">        rotation: [15]</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="stringliteral">This `anchor: world` statement will lead to the root link of the underlying URDF model being statically anchored in the defined position and orientation. Any joints of the anchored model will of course be movable just as expected.  </span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral">It can be very helpful to anchor a robot in place while debugging the model, as it will not be affected just as badly by jerky movements caused by internal collisions or similar simulation errors. But since the borders between robots and non-robot-machines are fuzzy, it also allows to build stationary machinery of your simulation environment in the SMURF format, for instance doors, levers or traffic lights, which may not move with respect to the world, but may still have moving parts or sensors. Even fully static elements of the environment such as houses or trees can be represented in SMURF and anchored in the simulation.</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral">### Using Old MARS Scenes</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">To stay backwards compatible, SMURF scenes allow to re-use old MARS scenes by simply adding them to the list of entities to be loaded. This is a very neat way to finally create some solid ground:</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="stringliteral">    # example.smurfs</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="stringliteral">    # SMURF scene example</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="stringliteral">    entities:</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="stringliteral">      - name: Eve</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="stringliteral">        position: [5.0, 0, -0.8]    # [x, y, z]</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="stringliteral">        rotation: [1.5, 20.0, 0.0]  # euler angles: [x, y, z]</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="stringliteral">      - name: Adam</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="stringliteral">        type: smurf</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;<span class="stringliteral">        file: myrobot.smurf</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="stringliteral">        position: [-2.0, 3.5, 0]</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="stringliteral">        rotation: [0.7071, 0.0, -0.7071, 0.0]  # quaternion [w, x, y, z]</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="stringliteral">      - name: Lazy Bob</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="stringliteral">        file: lazybot.smurf</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="stringliteral">        anchor: world</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">        rotation: [15]</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">      - name: Earth</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">        file: infinite_plane.scn  # old MARS scene</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">        type: scn  # optional</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="stringliteral">Again, as with SMURF files, MARS will derive the type from the file extension, but it doesn&#39;</span>t hurt to specify the type explicitly, either.</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;### Adding Custom Entities</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;SMURF scenes are easily extendable. For instance, you might feel that some nice background touch is missing in our creation and thus you wish to add an entity of type *rainbow*, <span class="keywordflow">for</span> which you have just created an `EntityFactory`. Well, there you go:</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="preprocessor">    # example.smurfs</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor"></span><span class="preprocessor">    # SMURF scene example</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    entities:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      - name: Eve</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        type: smurf</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        file: myrobot.smurf</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        position: [5.0, 0, -0.8]    # [x, y, z]</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        rotation: [1.5, 20.0, 0.0]  # euler angles: [x, y, z]</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      - name: Adam</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        type: smurf</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        file: myrobot.smurf</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        position: [-2.0, 3.5, 0]</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        rotation: [0.7071, 0.0, -0.7071, 0.0]  # quaternion [w, x, y, z]</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      - name: Lazy Bob</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        file: lazybot.smurf</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        anchor: world</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        rotation: [15]</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      - name: Earth</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        file: infinite_plane.scn  # old MARS scene</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        type: scn  # optional</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      - name: rainbow1</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        file: environment/rainbow.yml</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        type: rainbow</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        position: [1500.0, 300.0, 270.0]</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        rotation: [37.5]</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;Provided that you have entered your library with the `EntityFactory` <span class="keywordflow">for</span> *rainbow*s in the other_libs.txt file in your MARS configuration folder, MARS will pass the information to your plugin and thus your <span class="keyword">new</span> entity will be integrated in the scene.</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  &gt; **NOTE**: The parameters *position* and *rotation* are not required to define <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a> valid `SimEntity`. You may create <a class="code" href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a> rather <span class="keyword">abstract</span> entity <span class="keywordflow">for</span> which you don<span class="stringliteral">&#39;t need these variables. However if your entity is supposed to be located somewhere in the scene and you therefore want to create it at a provided position and orientation, you have to implement this functionality yourself in your `EntityFactory` class.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="stringliteral">You will have recognized that the file extension for our custom rainbow entity  is &#39;</span>.yml<span class="stringliteral">&#39;. We do not recommend to use file extensions as a way to substitute custom types, as types such as `my_special_kind_of_entity` are rather unwieldy in filenames. This is especially important since we encourage users to use specialized and verbose entity types, as this helps to mitigate the problem of type name conflicts.</span></div>
<div class="ttc" id="_camera_sensor_8h_html_aae14d6f4141dfe114a3f5777462bd8b8"><div class="ttname"><a href="../../db/d77/_camera_sensor_8h.html#aae14d6f4141dfe114a3f5777462bd8b8">a</a></div><div class="ttdeci">u_int8_t a</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d77/_camera_sensor_8h_source.html#l00044">CameraSensor.h:44</a></div></div>
<div class="ttc" id="namespacemars_1_1graphics_html_a9cd9fb81f0e4b94d770eafff6ea201fa"><div class="ttname"><a href="../../d5/dee/namespacemars_1_1graphics.html#a9cd9fb81f0e4b94d770eafff6ea201fa">mars::graphics::between</a></div><div class="ttdeci">bool between(const T &amp;down, const T &amp;up, const T &amp;query)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d3b/_terrain_draw_object_8cpp_source.html#l00854">TerrainDrawObject.cpp:854</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/d9c/smurfs_8md.html">smurfs.md</a></li>
    <li class="footer">Generated on Thu Oct 13 2016 15:08:30 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
